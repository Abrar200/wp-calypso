{"version":3,"file":"static/js/178.bd55e7cb.chunk.js","mappings":"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","sources":["../../src/types/dsp/index.ts","components/adBuilderWidget/components/StepWidgetIntro.tsx","components/adBuilderWidget/components/WidgetStepper.tsx","app/dspApi.ts","app/adBuilderSlice.ts","components/adBuilder/components/StepFinish.tsx","components/adBuilder/components/BuilderTitle.tsx","components/utils/DateFnsProvider.tsx","utils/index.ts","components/adBuilder/components/StepBudgetTiming.tsx","components/adBuilder/components/MultipleSelect.tsx","components/utils/Loading.tsx","components/adBuilder/components/StepSiteTargeting.tsx","components/utils/UploadButton.tsx","components/creative/AddCreativeCard.tsx","webpack://dsp-client/../src/lib/creatives/adTemplates/ad_300_250_styles.css?7773","webpack://dsp-client/../src/lib/creatives/adTemplates/reset.css?d726","components/adBuilder/components/AdPreviewWrapper.tsx","components/creative/adTemplates/adBlocks.tsx","components/creative/adTemplates/ad_300_250.tsx","components/adBuilder/components/StepPreviewCreative.tsx","components/adBuilder/components/FormResultField.tsx","components/adBuilder/components/StepConfirmAd.tsx","components/adBuilder/components/StepPay.tsx","components/adBuilderWidget/index.tsx","theme/colors.ts","theme/palette.ts","theme/components.tsx","theme/index.ts","theme/typography.ts","widget/components/WidgetStyles.tsx","widget/Widget.tsx","app/store.ts","widget/index.tsx","../../src/lib/creatives/adTemplates/ad_300_250_styles.css","../../src/lib/creatives/adTemplates/reset.css"],"sourcesContent":["// import {Site, WPCOMPost, WPCOMPostType} from \"../../lib/wpcom\";\n\nexport type URN = string\n\nexport type ErrorResponse = {\n  errorCode?: string;\n  errorMessage?: string;\n};\n\nexport type UserInfoRequest = any;\n\nexport type UserInfoResponse = {\n  user_id: number;\n  display_name: string;\n  avatar_url: string;\n  locale: string;\n};\n\n// MYSQL types for User and Social Login\n\nexport interface User {\n  user_id: number;\n  display_name: string;\n  avatar_url: string;\n  email: string;\n  locale: string;\n  created_at: Date;\n  updated_at: Date;\n  // display_name VARCHAR(100),\n  // avatar_url VARCHAR(255),\n  // email VARCHAR(255),\n  // locale VARCHAR(5),\n  // created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  // updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n}\n\n/**\n * Campaign, CampaignsRequest, CampaignsResponse...\n */\nexport type Campaign = {\n  campaign_id: number\n  owner_id: number\n  name: string\n  description?: string\n  start_date: Date\n  end_date: Date\n  user_capping?: number\n  created_at: Date\n  updated_at: Date\n  smartInfo?: CampaignSmartInfo\n  status_smart: number;\n};\n\nexport type CampaignSmartInfo = {\n  campaign_id: number\n  smart_id: number\n  created_at: Date\n  updated_at: Date\n  smart_response: string\n  // status_smart: SmartCampaignStatus\n}\n\nexport type AdSmartInfo = {\n  ad_id: number\n  smart_id: number\n  smart_response: string\n  created_at: Date\n  updated_at: Date\n}\n\nexport type CampaignsRequest = {\n  // TODO: also support sharing via the dsp_users_campaigns table, e.g. 'mine' vs 'shared' parameter\n};\n\nexport type CampaignsResponse = {\n  total: number;\n  results: Campaign[];\n};\n\nexport type TumblrCampaign = {\n  likes?: number\n}\n\nexport type CampaignFull = {\n  campaign_id?: number,\n  name: string,\n  description: string,\n  start_date: string,\n  end_date: string,\n  status_smart?: number,\n  budget_cents: number,\n  target_urn: string,\n  user_target_language: string[],\n  user_target_geo: string[],\n  device_target_type: string[],\n  content_target_language: string[],\n  content_target_iab_category: string[],\n  placement: string[],\n  moderation_status?: number,\n  moderation_reason?: string,\n  mime_type: string,\n  width: number,\n  height: number,\n  alt_text: string,\n  file_name: string,\n  content?: Blob,\n  image_mime_type: string,\n  content_image: any,\n  content_config: any,\n  creative_asset_id?: number,\n  insertionTemplateId: number,\n  assets: any;\n} & TumblrCampaign\n\nexport type CampaignsFullResponse = {\n  total: number;\n  results: CampaignFull[];\n};\n\nexport type CampaignRequest = {\n  campaign_id: number;\n};\n\nexport type CreateCampaignRequest = {\n  name: string\n  description?: string\n  start_date?: string;\n  end_date?: string;\n};\n\nexport type UpdateCampaignRequest = CreateCampaignRequest & {\n  name: string;\n  description?: string;\n  start_date?: string;\n  end_date?: string;\n  campaign_id: number;\n  status_smart?: number;\n};\n\nexport type DeleteCampaignRequest = {\n  campaign_id: number;\n};\n\nexport type PublishCampaignRequest = {\n  campaign_id: number;\n}\n\nexport type SubmitCampaignRequest = {\n  campaign_id: number;\n}\n\nexport type PublishAdRequest = {\n  ad_id: number;\n}\n\nexport type DeleteCreativeRequest = {\n  creative_id: number;\n  campaign_id: number;\n  ad_id: number;\n};\nexport type UpdateCreativeRequest = CreateCreativeRequest & {\n  creative_id: number;\n};\n\nexport type CampaignResponse = Campaign;\n\nexport type CampaignAdsRequest = CampaignRequest;\nexport type CampaignAdsResponse = {\n  total: number;\n  results: Ad[];\n};\n\nexport type CampaignStopResponse = [{\n  id: number,\n  smart_id: number;\n  result?: any;\n}]\n\nexport type AdRequest = {\n  campaign_id: number;\n  ad_id: number;\n};\nexport type AdResponse = Ad;\n\nexport type CreateAdRequest = Omit<Ad, 'ad_id'>\n\nexport type CreateCreativeAssetRequest = Omit<CreativeAsset<any>, 'creative_id' | 'creative_asset_id'>\n\nexport type CreateCreativeRequest = {\n  campaign_id: number;\n  ad_id: number;\n  name: string;\n  description: string;\n  type: CreativeType;\n  urn: string;\n  delivery_percent?: number\n  assets?: CreateCreativeAssetRequest[];\n  width: number;\n  height: number;\n};\n\nexport type UpdateAdRequest = CreateAdRequest & {\n  ad_id: number;\n};\n\nexport type DeleteAdRequest = {\n  campaign_id: number;\n  ad_id: number;\n};\n\nexport type CreativesRequest = {\n  campaign_id: number;\n  ad_id: number;\n};\n\nexport enum ModerationStatus {\n  PENDING = 'pending',\n  APPROVED = 'approved',\n  REJECTED = 'rejected',\n}\n\nexport type Creative = {\n  creative_id: number\n  ad_id: number\n  primary_asset_id: number\n  type: CreativeType\n\n  // common fields\n  smart_id: string\n  smart_updated_at: Date\n  moderation_status: ModerationStatus\n  name: string\n  description?: string\n  // url: string // asset URL\n  // click_url?: string // destination URL\n  // file_name?: string\n  // mime_type?: string\n  // width?: number\n  // height?: number\n  // external_id?: string // for future use, e.g. for S3 bucket\n  // content?: string // can be a very large blob containing embedded images etc. but hopefully usually just JSON\n\n  // for article and product types, e.g. urn:woo:product:1234:5678\n  // this is the URN that the creative was generated from (not necessarily the same as click url, but should generally be the same)\n  urn?: string\n\n  // for image fields\n  // alt_text?: string\n\n  delivery_percent: number\n  created_at: Date\n  updated_at: Date\n};\n\n// this is kept separate from Creative to save DB loads.\nexport type CreativeAsset<T extends CreativeAssetContent> = {\n  creative_id: number\n  creative_asset_id: number\n  mime_type: string // e.g. application/json, image/png, etc.\n\n  // these are just here for image creatives\n  width?: number\n  height?: number\n  alt_text?: string\n  file_name?: string\n\n  content?: T // this is JSON or base64 encoded binary data\n}\n\nexport type CreativeAssetArticleContent = {\n  title: string\n  snippet: string\n  imageUrl: string\n  imageMimeType?: string\n  clickUrl: string\n}\n\nexport type CreativeAssetTumblrPostContent = {\n  blogTitle: string;\n  postContent: string;\n  postImageSource: string;\n  likes?: number;\n  reblogs?: number;\n  replies?: number;\n}\n\nexport type CreativeAssetImageContent = Buffer | string\n\nexport type CreativeAssetContent = CreativeAssetArticleContent | CreativeAssetImageContent\n\n// serialized as JSON into the `content` field\nexport type ImageCreative = {\n  image: Buffer;\n  mime_type: string;\n};\n\nexport type CreativeResponse = Creative;\n\nexport type CreativeRequest = {\n  creative_id: number;\n  campaign_id: number;\n  ad_id: number;\n};\n\nexport type CreativeCreativeImage = Creative & ImageCreative;\n\nexport type CreativesResponse = {\n  total: number;\n  results: CreativeCreativeImage[];\n};\n\n\nexport type CreativeImageResponse = { url: string };\n\nexport type CreativeImageRequest = {\n  creative_image_id: number;\n  file_type: string;\n  image: Buffer;\n};\n\n\nexport type GenerateCreativeResponse = string;\n\nexport type GenerateCreativeRequest = {\n  creativeId: number;\n};\n\n\n/**\n * Get user sites\n */\nexport type UserSitesRequest = void;\n\nexport type UserSitesData = {\n  total?: number;\n  results?: Site[];\n}\nexport type UserSitesResponse = UserSitesData & ErrorResponse;\n\n\n/**\n * Get available continents\n */\n\nexport type Continent = {\n  name?: string;\n  isArchived?: boolean;\n  id: string;\n}\nexport type AvailableContinentsRequest = void;\n\nexport type AvailableContinentsData =  Continent[];\n\nexport type AvailableContinentsResponse = AvailableContinentsData & ErrorResponse;\n\n/**\n * Get available target site languages\n */\n\nexport type SiteLanguage = {\n  id: string;\n  text: string;\n}\nexport type SiteLanguages =  SiteLanguage[];\n\nexport type AvailableSiteLanguagesResponse = SiteLanguages & ErrorResponse;\n\n// todo clean up unused fields, current left here for easy reference\nexport type MeResponse = {\n  ID: number\n  display_name: string,\n  username: string,\n  email: string,\n  primary_blog: number,\n  primary_blog_url: string,\n  // primary_blog_is_jetpack: false,\n  language: string,\n  locale_variant: string,\n  // token_site_id: false,\n  token_scope: string[],\n  //   posts,\n  //   comments,\n  //   follow,\n  //   batch,\n  //   auth,\n  //   notifications\n  // ],\n  avatar_URL: string,\n  // profile_URL: string,\n  // verified: true,\n  // email_verified: true,\n  // date: 2022-01-31T19:22:45+00:00,\n  // site_count: 53,\n  // jetpack_site_count: 1,\n  // visible_site_count: 29,\n  // jetpack_visible_site_count: 1,\n  // has_unseen_notes: false,\n  // newest_note_type: automattcher,\n  // phone_account: false,\n  // meta: {\n  //   links: {\n  //     self: https://public-api.wordpress.com/rest/v1.1/me,\n  //     help: https://public-api.wordpress.com/rest/v1.1/me/help,\n  //     site: https://public-api.wordpress.com/rest/v1.1/sites/5836086,\n  //     flags: https://public-api.wordpress.com/rest/v1.1/me/flags\n  //   },\n  //   marketing_price_group: false,\n  //   plans_reorder_abtest_variation: control\n  // },\n  // is_valid_google_apps_country: true,\n  // user_ip_country_code: NZ,\n  // logout_URL: https://wordpress.com/wp-login.php?action=logout&_wpnonce=a1aeca4d9e&redirect_to=https%3A%2F%2Fwordpress.com%2F,\n  // social_login_connections: null,\n  // social_signup_service: null,\n  // abtests: {},\n  // lasagna_jwt: eyJ0eXA6cojUdHsGttp1GQFXzf7UM7KbLqfLh0uaXFGEONZvrR2SQYr3KTA,\n  // i18n_empathy_mode: false,\n  // use_fallback_for_incomplete_languages: false\n}\n\n/**\n * Get available target site languages\n */\n\nexport type SiteTopic = {\n  id: string;\n  text: string;\n  code: string;\n  parentIABCategoryID?: string;\n}\nexport type SiteTopics =  SiteTopic[];\n\nexport type AvailableSiteTopicsResponse = SiteTopics & ErrorResponse;\n\n/**\n * Get available target site locations\n */\n\nexport type Location = {\n  id: string;\n  code: string;\n  text: string;\n  smart_value: string;\n}\nexport type Locations = Location[];\n\nexport type LocationsResponse = Locations & ErrorResponse;\n\nexport type LocationsRequest = {}\n\n/**\n * Get site posts\n */\nexport type SitePostsRequest = {\n  site_id: number;\n  post_type?: WPCOMPostType;\n  pagination: Pagination;\n};\n\nexport type SitePostsData = {\n  total?: number;\n  results?: WPCOMPost[];\n  page_handle?: string;\n}\nexport type SitePostsResponse = SitePostsData & ErrorResponse;\n\n\n/**\n * Get site post\n */\nexport type SitePostRequest = {\n  site_id: number;\n  post_id: number;\n};\n\nexport type SitePostData = WPCOMPost;\nexport type SitePostResponse = SitePostData & ErrorResponse;\n\n\n/**\n * Get site post\n */\nexport type MediaRequest = {\n  site_id: number;\n  post_id: number;\n};\n\nexport type MediaData = {\n  total?: number;\n  results?: Media[];\n};\nexport type MediaResponse = MediaData & ErrorResponse;\n\n\nexport type UserAuthCheckResponse = {\n  exists: boolean\n}\n\n/**\n * Get site assets\n */\nexport type PostAssetsRequest = {\n  site_id: number;\n  post_id: number;\n};\n\nexport type PostAssetsData = Asset[]\nexport type PostAssetsResponse = PostAssetsData & ErrorResponse;\n\n\n/**\n * An ad\n *\n * based on this schema\n * -- an ad is a single insertion in a campaign\n-- TODO: targeting\nCREATE TABLE IF NOT EXISTS dsp_ads (\n\tad_id INT AUTO_INCREMENT PRIMARY KEY,\n\tcampaign_id INT NOT NULL,\n\tsmart_id VARCHAR(255) DEFAULT NULL, -- the id of the insertion in Smart\n\tsmart_updated_at TIMESTAMP DEFAULT NULL, -- the last time Smart updated this insertion\n\tname VARCHAR(255),\n\tdescription TEXT,\n\tstart_date DATETIME,\n\tend_date DATETIME,\n\tbudget_cents INT, -- usd in cents, i.e. 1000 = USD$10\n\ttype VARCHAR(20), -- one of 'house', 'self-serve', 'direct', 'other'\n\tcreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\tupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n\tINDEX `campaign_id` (`campaign_id`)\n);\n */\n\nexport type Ad = {\n  ad_id: number;\n  campaign_id: number;\n  smart_id?: string;\n  smart_updated_at?: Date;\n  name: string;\n  description: string;\n  start_date: string;\n  end_date: string;\n  budget_cents: number;\n  type: AdType;\n  target_urn: URN;\n  goal_type: GoalType;\n  user_target_language?: string[];\n  user_target_geo?: string[];\n  device_target_type?: string[];\n  content_target_language?: string[];\n  content_target_iab_category?: string[];\n  placement?: string[];\n  created_at?: Date;\n  updated_at?: Date;\n};\n\n\n// todo: shouldn't this be clicks / impressions / etc??\nexport enum GoalType {\n  wpcomPost = 'wpcom-post',\n  app = 'app',\n  url = 'url',\n  tumblrPost = 'tsp',\n}\n\nexport enum AdType {\n  image = 'image',\n  article = 'article',\n  video = 'video',\n  product = 'product',\n}\n\nexport type UrnData = {\n  siteId: number;\n  postId: number;\n}\n\n\n/**\n * based on this schema\n * owner_id INT NOT NULL, -- the user that created this account\n\tsocial_login_id INT AUTO_INCREMENT PRIMARY KEY, -- the id of this social_login\n\tprovider varchar(40) NOT NULL -- e.g. facebook\n\tname VARCHAR(100), -- a custom name set by the user, e.g. \"Bob's Tumblr Page\"\n\tcreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n\texpires datetime NOT NULL,\n\texternal_id varchar(255) NOT NULL -- e.g. twitter user_id\n\texternal_name varchar(255) DEFAULT NULL -- e.g. Dooniel Wooomsley\n\texternal_avatar_url VARCHAR(255),\n\texternal_display varchar(255) NOT NULL,\n\taccess_token text NOT NULL -- the access token\n\t-- an owner can only have one connection to a specific external account\n */\n\nexport enum SocialLoginProvider {\n  Facebook = \"facebook\",\n  Twitter = \"twitter\",\n  Google = \"google\",\n  WordPress = \"wordpress\",\n  Tumblr = \"tumblr\",\n}\n\nexport interface SocialLogin {\n  owner_id: number;\n  provider: SocialLoginProvider;\n  name: string;\n  created_at: Date;\n  expires: Date;\n  external_id: string;\n  external_name: string;\n  external_avatar_url: string;\n  external_display: string;\n  access_token: string;\n}\n\nexport type Pagination = {\n  page: number;\n  limit: number;\n  page_handle?: string;\n}\n\n// export interface Product extends BasicProduct {\n// \tname: string,\n// \tdescription: string,\n// \tinstockQuantity: number,\n// \tprice: number\n// }\n\n/**\n * Type representing a subset of WPCOM user info fetched during oauth\n *\n * @param data userInfo {\n *     ID: 282285,\n *     display_name: 'Dan Walmsley',\n *     username: 'goldsounds',\n *     email: 'dan.walmsley@automattic.com',\n *     primary_blog: 280895,\n *     primary_blog_url: 'http://goldsounds.wordpress.com',\n *     primary_blog_is_jetpack: false,\n *     language: 'en',\n *     locale_variant: '',\n *     token_site_id: false,\n *     token_scope: [ 'global' ],\n *     avatar_URL: 'https://2.gravatar.com/avatar/89ff99b0dc90aeb20466df37475babe9?s=96&d=identicon',\n *     profile_URL: 'http://en.gravatar.com/goldsounds',\n *     verified: true,\n *     email_verified: true,\n *     date: '2006-06-26T05:30:53+00:00',\n *     site_count: 516,\n *     jetpack_site_count: 37,\n *     visible_site_count: 92,\n *     jetpack_visible_site_count: 37,\n *     has_unseen_notes: false,\n *     newest_note_type: 'new_post',\n *     phone_account: false,\n *     meta: {\n *       links: {\n *         self: 'https://public-api.wordpress.com/rest/v1.1/me',\n *         help: 'https://public-api.wordpress.com/rest/v1.1/me/help',\n *         site: 'https://public-api.wordpress.com/rest/v1.1/sites/5836086',\n *         flags: 'https://public-api.wordpress.com/rest/v1.1/me/flags'\n *       },\n *       marketing_price_group: false,\n *       plans_reorder_abtest_variation: 'control'\n *     },\n *     is_valid_google_apps_country: true,\n *     user_ip_country_code: 'US',\n *     social_login_connections: null,\n *     social_signup_service: null,\n *     abtests: {},\n *     lasagna_jwt: 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6IndwY29tLTIwMjAtMDQtMTAifQ.eyJhdWQiOiJsYXNhZ25hIiwic3ViIjoidXNlcjoyODIyODUiLCJjeHAiOjE2NTA3MTk4NTAsImlzcyI6IndvcmRwcmVzcy5jb20iLCJpYXQiOjE2NTA2NzY2NTAsImV4cCI6MTY1MDY3NzU1MH0.N_SY1Rmf7Ir5x2m4x2UxF9xlUtpBq1FgJOnUCzQc7FdHde-BgPHLHV1PnCmLn7AHHSlvsh4YkvvlR-i54dMJuZxI66eX29iWq0iyKcxdudUBTC7xJq2nJqnpXkZ97kuPiH7xSq_oZx9DoM-_XLwbUysuvAjq20TX1lm3DJGpOwLTCqGhU3Gu3FBw0KjM-C3zgq8GfH8yDAes4mKF96KHal6mbfDLxqP6Gk-FnGAuBs6glpPmbOjEd5-xit6m6fRc3N3z1XmD1svsADBe9dDVKln4RUGOr0DLJh22IbhC0KLRk_fZ3wmBcoPOUgyPN2M4kX5DAvEpdDKlFG4ym0gZ0A',\n *     i18n_empathy_mode: false,\n *     use_fallback_for_incomplete_languages: false\n * }\n */\n\nexport type WpcomUserInfo = {\n  ID: number;\n  display_name: string;\n  username: string;\n  email: string;\n  avatar_URL: string;\n  language: string;\n};\n\n/**\n * access_token: 'sn7ywPKB0RSPQKKG(ugB8S0k(zXGr4egsx(0*fSRw5)&Xz#CHy(YrX)Fa6r3S0CP',\n * token_type: 'bearer',\n * blog_id: '0',\n * blog_url: null,\n * scope: 'global'\n */\nexport type WpcomTokenInfo = {\n  access_token: string;\n  token_type: string;\n  blog_id: string | number;\n  blog_url: string;\n  scope: string;\n};\n\n// export enum SmartCampaignStatus {\n//   \"draft\",\n//   \"prebooked\",\n//   \"booked\",\n//   \"sold\",\n// }\n\nexport enum SmartCampaignStatus {\n  DRAFT = 0,\n  PREBOOKED = 1,\n  BOOKED = 2,\n  SOLD = 3\n}\n\nexport enum CreativeType {\n  text = \"text\",   // smart ID = 3 (html5)\n  image = \"image\", // smart ID = 1 (image)\n  video = \"video\", // smart ID = 2 (video)\n  tsp = \"tsp\",     // smart ID = 4 (script)\n  article = \"article\", // smart ID = ??\n  product = \"product\", // smart ID = ??\n}\n\nexport interface MulterRequest<T> {\n  file?: any;\n  body?: any;\n  cookies?: any\n  params?: any;\n}\n\n/** FROM wpcom module */\n\n// interface Error {\n// \tcode?: string;\n// }\n\n/**\n * Corresponds to this from the /me/sites API:\n * {\n *      \"ID\": 155635781,\n *      \"name\": \"Test G Suite Site\",\n *      \"description\": \"\",\n *      \"URL\": \"https://jetpackgsuitetest.wordpress.com\",\n *      \"user_can_manage\": false,\n *      \"capabilities\": {\n *        \"edit_pages\": true,\n *        \"edit_posts\": true,\n *        \"edit_others_posts\": true,\n *        \"edit_others_pages\": true,\n *        \"delete_posts\": true,\n *        \"delete_others_posts\": true,\n *        \"edit_theme_options\": true,\n *        \"edit_users\": false,\n *        \"list_users\": true,\n *        \"manage_categories\": true,\n *        \"manage_options\": true,\n *        \"moderate_comments\": true,\n *        \"activate_wordads\": true,\n *        \"promote_users\": true,\n *        \"publish_posts\": true,\n *        \"upload_files\": true,\n *        \"delete_users\": false,\n *        \"remove_users\": true,\n *        \"own_site\": true,\n *        \"view_hosting\": true,\n *        \"view_stats\": true,\n *        \"activate_plugins\": true\n *      },\n *      \"jetpack\": false,\n *      \"jetpack_connection\": false,\n *      \"is_multisite\": true,\n *      \"site_owner\": 123094621,\n *      \"post_count\": 3,\n *      \"subscribers_count\": 1,\n *      \"lang\": \"en\",\n *      \"logo\": {\n *        \"id\": 0,\n *        \"sizes\": [],\n *        \"url\": \"\"\n *      },\n *      \"visible\": true,\n *      \"is_private\": false,\n *      \"is_coming_soon\": false,\n *      \"single_user_site\": true,\n *      \"is_vip\": false,\n *      \"is_following\": true,\n *      \"organization_id\": 0,\n *      \"options\": {\n *        \"timezone\": \"\",\n *        \"gmt_offset\": 0,\n *        \"blog_public\": 1,\n *        \"videopress_enabled\": false,\n *        \"upgraded_filetypes_enabled\": false,\n *        \"login_url\": \"https://jetpackgsuitetest.wordpress.com/wp-login.php\",\n *        \"admin_url\": \"https://jetpackgsuitetest.wordpress.com/wp-admin/\",\n *        \"is_mapped_domain\": false,\n *        \"is_redirect\": false,\n *        \"unmapped_url\": \"https://jetpackgsuitetest.wordpress.com\",\n *        \"featured_images_enabled\": false,\n *        \"theme_slug\": \"pub/independent-publisher-2\",\n *        \"header_image\": false,\n *        \"background_color\": false,\n *        \"image_default_link_type\": \"none\",\n *        \"image_thumbnail_width\": 150,\n *        \"image_thumbnail_height\": 150,\n *        \"image_thumbnail_crop\": 0,\n *        \"image_medium_width\": 300,\n *        \"image_medium_height\": 300,\n *        \"image_large_width\": 1024,\n *        \"image_large_height\": 1024,\n *        \"permalink_structure\": \"/%year%/%monthnum%/%day%/%postname%/\",\n *        \"post_formats\": [],\n *        \"default_post_format\": \"0\",\n *        \"default_category\": 1,\n *        \"allowed_file_types\": [\n *          \"jpg\",\n *          \"jpeg\",\n *          \"png\",\n *          \"gif\",\n *          \"pdf\",\n *          \"doc\",\n *          \"ppt\",\n *          \"odt\",\n *          \"pptx\",\n *          \"docx\",\n *          \"pps\",\n *          \"ppsx\",\n *          \"xls\",\n *          \"xlsx\",\n *          \"key\",\n *          \"webp\",\n *          \"heic\",\n *          \"heif\",\n *          \"asc\"\n *        ],\n *        \"show_on_front\": \"posts\",\n *        \"default_likes_enabled\": true,\n *        \"default_sharing_status\": true,\n *        \"default_comment_status\": true,\n *        \"default_ping_status\": true,\n *        \"software_version\": \"6.0-alpha-53023\",\n *        \"created_at\": \"2018-12-13T04:21:32+00:00\",\n *        \"wordads\": false,\n *        \"publicize_permanently_disabled\": false,\n *        \"frame_nonce\": \"d37ba9b870\",\n *        \"jetpack_frame_nonce\": \"d37ba9b870\",\n *        \"headstart\": false,\n *        \"headstart_is_fresh\": false,\n *        \"ak_vp_bundle_enabled\": null,\n *        \"advanced_seo_front_page_description\": \"\",\n *        \"advanced_seo_title_formats\": [],\n *        \"verification_services_codes\": null,\n *        \"podcasting_archive\": null,\n *        \"is_domain_only\": false,\n *        \"is_automated_transfer\": false,\n *        \"is_wpcom_atomic\": false,\n *        \"is_wpcom_store\": false,\n *        \"woocommerce_is_active\": false,\n *        \"editing_toolkit_is_active\": true,\n *        \"design_type\": \"blog\",\n *        \"site_segment\": null,\n *        \"import_engine\": null,\n *        \"is_pending_plan\": false,\n *        \"is_wpforteams_site\": false,\n *        \"p2_hub_blog_id\": null,\n *        \"is_cloud_eligible\": false,\n *        \"anchor_podcast\": false,\n *        \"was_created_with_blank_canvas_design\": false,\n *        \"videopress_storage_used\": 0,\n *        \"is_difm_lite_in_progress\": false,\n *        \"difm_lite_site_options\": {},\n *        \"site_intent\": \"\",\n *        \"site_vertical_id\": null\n *      },\n *      \"plan\": {\n *        \"product_id\": 1,\n *        \"product_slug\": \"free_plan\",\n *        \"product_name\": \"WordPress.com Free\",\n *        \"product_name_short\": \"Free\",\n *        \"expired\": false,\n *        \"billing_period\": \"\",\n *        \"user_is_owner\": false,\n *        \"is_free\": true,\n *        \"license_key\": \"\",\n *        \"features\": {\n *          \"active\": [\n *            \"akismet\",\n *            \"free-blog\",\n *            \"space\",\n *            \"support\"\n *          ],\n *          \"available\": {\n *            \"akismet\": [\n *              \"pro-plan\",\n *              \"personal-bundle\",\n *              \"value_bundle\",\n *              \"business-bundle\",\n *              \"ecommerce-bundle\",\n *              \"personal-bundle-2y\",\n *              \"value_bundle-2y\",\n *              \"business-bundle-2y\",\n *              \"blogger-bundle\",\n *              \"blogger-bundle-2y\",\n *              \"ecommerce-bundle-2y\",\n *              \"personal-bundle-monthly\",\n *              \"value_bundle_monthly\",\n *              \"business-bundle-monthly\",\n *              \"ecommerce-bundle-monthly\"\n *            ],\n\t* \t\t// ... and many many more\n *          }\n *        }\n *      },\n *      \"products\": [],\n *      \"zendesk_site_meta\": {\n *        \"plan\": \"free\",\n *        \"addon\": []\n *      },\n *      \"jetpack_modules\": null,\n *      \"meta\": {\n *        \"links\": {\n *          \"self\": \"https://public-api.wordpress.com/rest/v1.1/sites/155635781\",\n *          \"help\": \"https://public-api.wordpress.com/rest/v1.1/sites/155635781/help\",\n *          \"posts\": \"https://public-api.wordpress.com/rest/v1.1/sites/155635781/posts/\",\n *          \"comments\": \"https://public-api.wordpress.com/rest/v1.1/sites/155635781/comments/\",\n *          \"xmlrpc\": \"https://jetpackgsuitetest.wordpress.com/xmlrpc.php\"\n *        }\n *      },\n *      \"quota\": {\n *        \"space_allowed\": 3221225472,\n *        \"space_used\": 55817,\n *        \"percent_used\": 0.0017327877382437389,\n *        \"space_available\": 3221169655\n *      },\n *      \"launch_status\": false,\n *      \"site_migration\": null,\n *      \"is_fse_active\": false,\n *      \"is_fse_eligible\": false,\n *      \"is_core_site_editor_enabled\": false,\n *      \"is_wpcom_atomic\": false\n *    },\n */\n\nexport type Site = {\n\tID: number\n\ttitle: string\n\tURL: string\n\tuser_can_manage: boolean\n\tvisible: boolean\n\tis_private: boolean\n\tname: string;\n\tdescription: string\n\ticon: {\n\t\timg: string\n\t\tico: string\n\t\tmedia_id: number\n\t}\n\tlogo: {\n\t\tid: number, sizes: any[], url: string;\n\t}\n\toptions: {\n\t\twordads: boolean,\n\t\twoocommerce_is_active: boolean;\n\t\tis_wpcom_store: boolean;\n\t}\n  post_count: number\n}\n\nexport type WPCOMPostAttachment = {\n  URL: string,\n  width: number,\n  height: number\n}\n\nexport type WPCOMPost = {\n\tID: number,\n\tsite_ID: number,\n\tmodified: Date,\n\ttitle: string,\n\tURL: string,\n\tcontent: string,\n\texcerpt: string;\n\tlike_count: number,\n\tfeatured_image: string,\n\tpost_type: WPCOMPostType\n  post_thumbnail: {\n    URL: string,\n    width: number,\n    height: number,\n    mime_type: string,\n  },\n  attachments: WPCOMPostAttachment[]\n};\n\nexport type Media = {\n  ID: number,\n  URL: string,\n  post_ID: number,\n  file: string,\n  mime_type: string,\n  width: number,\n  height: number,\n  extension: string,\n  icon: string,\n  thumbnails: {\n    [key: string]: string\n  },\n  meta: {\n    links: {\n      self: string,\n      help: string,\n      site: string,\n      parent: string,\n    }\n  }\n\n};\n\nexport enum WPCOMPostType {\n\tpost = 'post',\n\tpage = 'page',\n\tproduct = 'product'\n}\n\n\nexport enum TargetTypes {\n  wpcomPost = 'wpcom-post',\n  tumblrPost = 'tsp',\n  url = 'url',\n}\n\nexport enum FormSteps {\n  intro,\n  goalType,\n  selectAsset,\n  adType,\n  siteTargeting,\n  selectSiteAsset,\n  previewCreative,\n  budgetTiming,\n  paymentMethod,\n  pay,\n  config,\n  confirmAd,\n  finish,\n}\n\nexport enum DeviceTargetTypes {\n  desktop = 'desktop',\n  mobile = 'mobile',\n  tablet = 'tablet',\n}\n\ntype Asset = {\n  type?: string,\n  url: string,\n  width?: number,\n  height?: number,\n}\n\nexport type MySQLUpdateResponse = {\n  fieldCount?: number;\n  affectedRows?: number;\n  insertId?: number;\n  info?: string;\n  serverStatus?: number;\n  warningStatus?: number;\n  changedRows?: number;\n}\n\nexport type CampaignData = {\n  campaign_id: number;\n  creative_id: number;\n  name: string;\n  ad_id: number;\n  start_date: Date;\n  end_date: Date;\n  target_urn: string;\n  budget_cents: number;\n  goal_type: string;\n  user_target_language: string;\n  user_target_geo: string;\n  device_target_type: string;\n  content_target_language: string;\n  content_target_iab_category: string;\n  placement: string;\n  type: string;\n  primary_asset_id: number;\n  content: any;\n  width: number;\n  height: number;\n  insertionTemplateId: number;\n}\n","import * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { Button, Slide, SlideProps, Typography } from \"@mui/material\";\nimport Box from \"@mui/system/Box\";\n\nconst slideProps: SlideProps = {\n  easing: {\n    enter: \"linear\",\n    exit: \"inherit\",\n  },\n  direction: \"left\",\n  mountOnEnter: true,\n  unmountOnExit: true,\n} as SlideProps;\n\ntype StepWidgetIntroProps = {\n  onClickGetStarted: () => void;\n};\n\nexport const StepWidgetIntro: React.FC<StepWidgetIntroProps> = ({ onClickGetStarted }) => {\n  return (\n    <Slide in={true} {...slideProps}>\n      <Grid\n        container\n        sx={{\n          height: \"100%\",\n          alignItems: \"center\",\n        }}\n      >\n        <Grid item xs={12}>\n          <Typography variant=\"h1\" sx={{ mb: 2, mt: 4 }} textAlign=\"center\">\n            🚀\n          </Typography>\n          <Typography variant=\"h1\" sx={{ mb: 3 }} textAlign=\"center\">\n            Let's promote your post!\n          </Typography>\n          <Box sx={{ textAlign: \"center\", mb: 2 }}>\n            <Typography\n              variant=\"subtitle1\"\n              sx={{ textAlign: \"center\", mb: 2, display: \"inline-block\", width: \"500px\" }}\n              textAlign=\"center\"\n              component=\"div\"\n            >\n              Find your audience by promoting this post across our global network of WordPress sites.\n            </Typography>\n          </Box>\n\n          <Box sx={{ textAlign: \"center\", mb: 2 }}>\n            <Button size=\"large\" variant=\"contained\" onClick={onClickGetStarted}>\n              Get Started\n            </Button>\n          </Box>\n          <Typography\n            variant=\"subtitle2\"\n            sx={{ mb: 4, mt: 2 }}\n            textAlign=\"center\"\n            component=\"div\"\n            color=\"text.secondary\"\n          >\n            It takes less than 5 minutes.\n          </Typography>\n        </Grid>\n      </Grid>\n    </Slide>\n  );\n};\n","import { Button, Grid, MobileStepper, Step, StepLabel, Stepper, useTheme } from \"@mui/material\";\nimport { FormSteps } from \"@type/dsp\";\nimport * as React from \"react\";\nimport _findIndex from \"lodash/findIndex\";\nimport { KeyboardArrowLeft, KeyboardArrowRight } from \"@mui/icons-material\";\n\ntype Props = {\n  formStep: number;\n};\n\nconst stepSet = [\n  {\n    label: \"Preview\",\n    steps: [FormSteps.intro, FormSteps.selectSiteAsset, FormSteps.previewCreative],\n  },\n  {\n    label: \"Audience\",\n    steps: [FormSteps.siteTargeting],\n  },\n  {\n    label: \"Details & Payment\",\n    steps: [FormSteps.budgetTiming, FormSteps.pay, FormSteps.config, FormSteps.confirmAd],\n  },\n  {\n    label: \"Finish!\",\n    steps: [FormSteps.finish],\n  },\n];\n\nexport const WidgetStepper: React.FC<Props> = ({ formStep }) => {\n  const currentIndex = _findIndex(stepSet, e => e.steps.includes(formStep)) || 0;\n\n  return (\n    <Grid item xs={12}>\n      <Stepper\n        sx={{\n          mb: 2,\n        }}\n        activeStep={currentIndex}\n        alternativeLabel\n      >\n        {stepSet.map(step => {\n          const label = step.label;\n          return (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          );\n        })}\n      </Stepper>\n    </Grid>\n  );\n};\n\nexport const MobileWidgetStepper: React.FC<Props> = ({ formStep }) => {\n  const [activeStep, setActiveStep] = React.useState(0);\n  const currentIndex = _findIndex(stepSet, e => e.steps.includes(formStep)) || 0;\n  const theme = useTheme();\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1);\n  };\n\n  return (\n    <Grid item xs={12}>\n      <MobileStepper\n        sx={{\n          mb: 2,\n        }}\n        activeStep={currentIndex}\n        variant=\"text\"\n        steps={stepSet.length}\n        position=\"static\"\n        nextButton={\n          <Button size=\"small\" onClick={handleNext} disabled={currentIndex === stepSet.length - 1}>\n            Next\n            {theme.direction === \"rtl\" ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\n          </Button>\n        }\n        backButton={\n          <Button size=\"small\" onClick={handleBack} disabled={currentIndex === 0}>\n            {theme.direction === \"rtl\" ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\n            Back\n          </Button>\n        }\n      />\n    </Grid>\n  );\n};\n","import { BaseQueryFn, createApi, FetchArgs, fetchBaseQuery, FetchBaseQueryError } from \"@reduxjs/toolkit/query/react\";\nimport {\n  // Ad\n  AdRequest,\n  AdResponse,\n  CreateAdRequest,\n  DeleteAdRequest,\n  UpdateAdRequest,\n  // Campaign\n  CampaignAdsRequest,\n  CampaignAdsResponse,\n  CampaignRequest,\n  CampaignResponse,\n  CampaignsRequest,\n  CampaignsResponse,\n  CreateCampaignRequest,\n  UpdateCampaignRequest,\n  DeleteCampaignRequest,\n  // Creative\n  CreativeRequest,\n  CreativeResponse,\n  CreativesRequest,\n  CreativesResponse,\n  UpdateCreativeRequest,\n  DeleteCreativeRequest,\n  // User info\n  UserInfoRequest,\n  UserInfoResponse,\n  UserSitesRequest,\n  UserSitesResponse,\n  // WP Site Posts\n  SitePostsResponse,\n  SitePostsRequest,\n  // Continents, countries and regions\n  AvailableContinentsRequest,\n  AvailableContinentsResponse,\n  MediaResponse,\n  MediaRequest,\n  SitePostResponse,\n  SitePostRequest,\n  AvailableSiteLanguagesResponse,\n  AvailableSiteTopicsResponse,\n  LocationsResponse,\n  UserAuthCheckResponse,\n  CampaignsFullResponse,\n  SubmitCampaignRequest,\n} from \"@type/dsp\";\nimport { RootState } from \"./store\";\n\nexport const getCuratedURN = (urn: string): string => {\n  let curatedURN = decodeURIComponent(urn); // Prevent encoded urns\n  const isTumblrPost = urn.includes(\"tumblr:post\");\n  if (isTumblrPost) {\n    const idParts = curatedURN.split(\":\");\n    const blogId = idParts[4] || \"\";\n    const postId = idParts[5] || \"\";\n    const encodedTumblogid = encodeURIComponent(`t:${blogId}`);\n    curatedURN = encodeURIComponent(`urn:tumblr:post:${encodedTumblogid}:${postId}`);\n  }\n  return curatedURN;\n};\n\nconst dynamicBaseQuery: BaseQueryFn<string | FetchArgs, unknown, FetchBaseQueryError> = async (\n  args,\n  WebApi,\n  extraOptions\n) => {\n  const apiHost =\n    (WebApi.getState() as RootState).adBuilder.widgetParams.apiHost || process.env.REACT_APP_DSP_API_HOST || \"\";\n  const apiPrefix =\n    (WebApi.getState() as RootState).adBuilder.widgetParams.apiPrefix || process.env.REACT_APP_DSP_API_PREFIX || \"\";\n  const baseUrl = `${apiHost}${apiPrefix}${BASE_URI}`;\n\n  const rawBaseQuery = fetchBaseQuery({\n    baseUrl,\n    prepareHeaders: (headers, { getState }) => {\n      // only accept application/json\n      headers.set(\"accept\", \"application/json\");\n      const token = (getState() as RootState).adBuilder.widgetParams.authToken;\n\n      // If we have a token set in state, let's assume that we should be passing it.\n      if (token) {\n        if (token.startsWith(\"rlt-\")) {\n          // special handling for 'rlt-' token\n          headers.set(\"Authorization\", `X_WPCOM_RLT ${token}`);\n        } else {\n          headers.set(\"Authorization\", `Bearer ${token}`);\n        }\n      }\n\n      return headers;\n    },\n  });\n  return rawBaseQuery(args, WebApi, extraOptions);\n};\n\n// Define a service using a base URL and expected endpoints\nexport const BASE_URI = \"/api/v1\";\nexport const dspApi = createApi({\n  reducerPath: \"dspAPI\",\n  tagTypes: [\n    \"Campaigns\",\n    \"CampaignsFull\",\n    \"Ads\",\n    \"Creatives\",\n    \"AssetsSites\",\n    \"AssetsPosts\",\n    \"AssetsProducts\",\n    \"Continents\",\n    \"SiteLanguages\",\n    \"SiteTopics\",\n    \"Locations\",\n    \"User\",\n  ],\n  baseQuery: dynamicBaseQuery,\n  endpoints: builder => {\n    return {\n      getUserInfo: builder.query<UserInfoResponse, UserInfoRequest>({\n        query: (request: UserInfoRequest) => {\n          return {\n            url: \"/user\",\n          };\n        },\n        providesTags: [\"User\"],\n      }),\n\n      getCampaigns: builder.query<CampaignsResponse, CampaignsRequest>({\n        query: (request: CampaignsRequest) => {\n          return {\n            url: \"/campaigns\",\n          };\n        },\n        providesTags: [\"Campaigns\"],\n      }),\n      getCampaignsFull: builder.query<CampaignsFullResponse, CampaignsRequest>({\n        query: (request: CampaignsRequest) => {\n          return {\n            url: \"/campaigns/full\",\n          };\n        },\n        providesTags: [\"CampaignsFull\"],\n      }),\n\n      getCampaign: builder.query<CampaignResponse, CampaignRequest>({\n        query: (request: CampaignRequest) => {\n          return {\n            url: `/campaigns/${request.campaign_id}`,\n          };\n        },\n        providesTags: [\"Campaigns\"],\n      }),\n\n      createCampaign: builder.mutation<CampaignResponse, CreateCampaignRequest>({\n        query: (request: CreateCampaignRequest) => ({\n          url: \"/campaigns\",\n          method: \"POST\",\n          body: request,\n        }),\n        invalidatesTags: [\"Campaigns\"],\n      }),\n\n      editCampaign: builder.mutation<CampaignResponse, UpdateCampaignRequest>({\n        query: (campaign: UpdateCampaignRequest) => ({\n          url: `/campaigns/${campaign.campaign_id}`,\n          method: \"PATCH\",\n          body: campaign,\n        }),\n        invalidatesTags: [\"Campaigns\"],\n      }),\n\n      deleteCampaign: builder.mutation<CampaignResponse, DeleteCampaignRequest>({\n        query: (campaign: DeleteCampaignRequest) => ({\n          url: `/campaigns/${campaign.campaign_id}`,\n          method: \"DELETE\",\n        }),\n        invalidatesTags: [\"Campaigns\"],\n      }),\n\n      stopCampaign: builder.mutation<SubmitCampaignRequest, DeleteCampaignRequest>({\n        query: (campaign: DeleteCampaignRequest) => ({\n          url: `/campaigns/${campaign.campaign_id}/stop`,\n          method: \"POST\",\n        }),\n        invalidatesTags: [\"Campaigns\"],\n      }),\n\n      createAd: builder.mutation<AdResponse, CreateAdRequest>({\n        query: (request: CreateAdRequest) => {\n          return {\n            url: `/campaigns/${request.campaign_id}/ads`,\n            method: \"POST\",\n            body: request,\n          };\n        },\n        invalidatesTags: [\"Campaigns\", \"Ads\"],\n      }),\n\n      editAd: builder.mutation<AdResponse, UpdateAdRequest>({\n        query: (request: UpdateAdRequest) => ({\n          url: `/campaigns/${request.campaign_id}/ads/${request.ad_id}`,\n          method: \"PATCH\",\n          body: request,\n        }),\n        invalidatesTags: [\"Campaigns\", \"Ads\"],\n      }),\n\n      deleteAd: builder.mutation<AdResponse, DeleteAdRequest>({\n        query: (request: DeleteAdRequest) => ({\n          url: `/campaigns/${request.campaign_id}/ads/${request.ad_id}`,\n          method: \"DELETE\",\n        }),\n        invalidatesTags: [\"Ads\"],\n      }),\n\n      getAds: builder.query<CampaignAdsResponse, CampaignAdsRequest>({\n        query: (request: CampaignAdsRequest) => {\n          return {\n            url: `/campaigns/${request.campaign_id}/ads`,\n          };\n        },\n        providesTags: [\"Ads\"],\n      }),\n\n      getAd: builder.query<AdResponse, AdRequest>({\n        query: (request: AdRequest) => {\n          return {\n            url: `/campaigns/${request.campaign_id}/ads/${request.ad_id}`,\n          };\n        },\n        providesTags: [\"Campaigns\"],\n      }),\n\n      getCreatives: builder.query<CreativesResponse, CreativesRequest>({\n        query: (request: CreativesRequest) => {\n          return {\n            url: `/campaigns/${request.campaign_id}/ads/${request.ad_id}/creatives`,\n          };\n        },\n        providesTags: [\"Creatives\"],\n      }),\n\n      getCreative: builder.query<CreativeResponse, CreativeRequest>({\n        query: (request: CreativeRequest) => {\n          return {\n            url: `/campaigns/${request.campaign_id}/ads/${request.ad_id}/creatives/${request.creative_id}`,\n          };\n        },\n        providesTags: [\"Creatives\"],\n      }),\n\n      deleteCreative: builder.mutation<CreativeResponse, DeleteCreativeRequest>({\n        query: (creative: DeleteCreativeRequest) => ({\n          url: `/campaigns/${creative.campaign_id}/ads/${creative.ad_id}/creatives/${creative.creative_id}`,\n          method: \"DELETE\",\n        }),\n        invalidatesTags: [\"Creatives\"],\n      }),\n\n      editCreative: builder.mutation<CreativeResponse, UpdateCreativeRequest>({\n        query: (creative: UpdateCreativeRequest) => ({\n          url: `/campaigns/${creative.campaign_id}/ads/${creative.ad_id}/creatives/${creative.creative_id}`,\n          method: \"PATCH\",\n          body: creative,\n        }),\n        invalidatesTags: [\"Creatives\"],\n      }),\n\n      getSites: builder.query<UserSitesResponse, UserSitesRequest>({\n        query: (request: UserSitesRequest) => {\n          return {\n            url: \"/wpcom/sites\",\n          };\n        },\n        providesTags: [\"AssetsSites\"],\n      }),\n\n      getSitePosts: builder.query<SitePostsResponse, SitePostsRequest>({\n        query: (request: SitePostsRequest) => {\n          const { site_id, post_type, pagination } = request;\n          const { page, limit, page_handle } = pagination;\n          return {\n            url: `/wpcom/sites/${site_id}/posts?${\n              (page_handle ? `page_handle=${page_handle}` : page ? `page=${page}&limit=${limit}` : \"\") +\n              (post_type ? `&post_type=${post_type}` : \"\")\n            }`,\n          };\n        },\n        providesTags: [\"AssetsPosts\"],\n      }),\n\n      getSitePost: builder.query<SitePostResponse, SitePostRequest>({\n        query: (request: SitePostRequest) => {\n          const { site_id, post_id } = request;\n          return {\n            url: `/wpcom/sites/${site_id}/posts/${post_id}`,\n          };\n        },\n        providesTags: [\"AssetsPosts\"],\n      }),\n\n      getSiteAssets: builder.query<MediaResponse, MediaRequest>({\n        query: (request: MediaRequest) => {\n          const { site_id, post_id } = request;\n          return {\n            url: `/wpcom/sites/${site_id}/posts/${post_id}/media`,\n          };\n        },\n        providesTags: [\"AssetsPosts\"],\n      }),\n\n      getSmartAvailableContinents: builder.query<AvailableContinentsResponse, AvailableContinentsRequest>({\n        query: () => {\n          return {\n            url: \"/smart/continents\",\n            method: \"GET\",\n          };\n        },\n        providesTags: [\"Continents\"],\n      }),\n\n      getAvailableSiteTargetLanguages: builder.query<AvailableSiteLanguagesResponse, void>({\n        query: () => {\n          return {\n            url: \"/smart/target/site/languages\",\n            method: \"GET\",\n          };\n        },\n        providesTags: [\"SiteLanguages\"],\n      }),\n\n      getAvailableSiteTargetTopics: builder.query<AvailableSiteTopicsResponse, void>({\n        query: () => {\n          return {\n            url: \"/smart/target/site/topics\",\n            method: \"GET\",\n          };\n        },\n        providesTags: [\"SiteTopics\"],\n      }),\n\n      getAvailableLocations: builder.query<LocationsResponse, void>({\n        query: () => {\n          return {\n            url: \"/locations\",\n            method: \"GET\",\n          };\n        },\n      }),\n\n      getHelloWorld: builder.query<{ hello: string }, { name: string }>({\n        query: (request: { name: string }) => {\n          return {\n            url: \"/helloWorld\",\n            params: request,\n          };\n        },\n      }),\n      userAuthCheck: builder.query<UserAuthCheckResponse, void>({\n        query: () => {\n          return {\n            url: `/user/check`,\n            method: \"GET\",\n          };\n        },\n        providesTags: [\"User\"],\n      }),\n    };\n  },\n});\n\n// Export hooks for usage in functional components, which are\n// auto-generated based on the defined endpoints\nexport const {\n  useGetUserInfoQuery,\n  useGetHelloWorldQuery,\n  useUserAuthCheckQuery,\n  useGetCampaignQuery,\n  useGetAdsQuery,\n  useGetAdQuery,\n  useGetCampaignsQuery,\n  useGetCampaignsFullQuery,\n  useCreateCampaignMutation,\n  useDeleteCampaignMutation,\n  useStopCampaignMutation,\n  useEditCampaignMutation,\n  useCreateAdMutation,\n  useDeleteAdMutation,\n  useEditAdMutation,\n  useGetCreativesQuery,\n  useGetCreativeQuery,\n  useDeleteCreativeMutation,\n  useEditCreativeMutation,\n  // assets\n  useGetSitesQuery,\n  useGetSitePostsQuery,\n  useGetSitePostQuery,\n  useGetSiteAssetsQuery,\n  useGetSmartAvailableContinentsQuery,\n  useGetAvailableSiteTargetLanguagesQuery,\n  useGetAvailableSiteTargetTopicsQuery,\n  useGetAvailableLocationsQuery,\n} = dspApi;\n","import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport {\n  Ad,\n  AdResponse,\n  AdType,\n  Campaign,\n  CampaignResponse,\n  CreateAdRequest,\n  CreateCampaignRequest,\n  CreateCreativeRequest,\n  CreativeAssetArticleContent,\n  CreativeType,\n  DeviceTargetTypes,\n  FormSteps,\n  GoalType,\n  URN,\n} from \"@type/dsp\";\nimport { BuilderMode, PaymentMethod } from \"@type/adBuilder\";\nimport { WidgetParams } from \"../widget/bootstrap\";\nimport { BASE_URI, dspApi } from \"@app/dspApi\";\n\nconst IS_DETACHED_DSP = process.env.REACT_APP_BUILD_TARGET === \"widget\" || \"userPanel\";\n\n// XXX A HACK TO SIMULATE LATENCY DURING PUBLISH\nfunction delay(ms: number) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport type WidgetPublishStatus = {\n  campaignCreatedId?: number | null;\n  campaignCreated: boolean;\n  adCreated: boolean;\n  assetsUploaded: boolean;\n  submitted: boolean;\n  errorMessage?: string;\n};\n\nexport interface AdBuilderState {\n  formStep: FormSteps;\n  builderMode: BuilderMode;\n  paymentMethod: PaymentMethod;\n  ad: Ad;\n  article: CreativeAssetArticleContent; // a creative has a primary asset, which gets serialized and maybe refer to other assets\n  widgetParams: WidgetParams;\n  nextButtonEnabled: boolean;\n  publishStatus: WidgetPublishStatus;\n}\n\nconst weekInMillis = 6.048e8;\n\nconst initialState: AdBuilderState = {\n  formStep: 0,\n  builderMode: IS_DETACHED_DSP ? \"widget\" : \"dsp\",\n  ad: {\n    budget_cents: 500,\n    start_date: new Date().toISOString(),\n    end_date: new Date(Date.now() + weekInMillis).toISOString(),\n    type: AdType.article,\n    goal_type: GoalType.wpcomPost,\n    device_target_type: [DeviceTargetTypes.desktop],\n  } as Ad,\n  paymentMethod: \"purchase\",\n  widgetParams: {} as WidgetParams,\n  nextButtonEnabled: true,\n  article: {\n    title: \"Page Title\",\n    snippet: \"Article Snippet\",\n    clickUrl: \"\",\n    imageUrl: \"\",\n    imageMimeType: \"\",\n  } as CreativeAssetArticleContent,\n  publishStatus: {\n    campaignCreatedId: null,\n    campaignCreated: false,\n    adCreated: false,\n    assetsUploaded: false,\n    submitted: false,\n  },\n};\n\nlet baseUrl = BASE_URI;\n\nconst updateBaseUrl = (widgetParams: WidgetParams) => {\n  const apiHost = widgetParams.apiHost || process.env.REACT_APP_DSP_API_HOST || \"\";\n  const apiPrefix = widgetParams.apiPrefix || process.env.REACT_APP_DSP_API_PREFIX || \"\";\n  baseUrl = `${apiHost}${apiPrefix}${BASE_URI}`;\n};\n\nconst headers: { [key: string]: string } = {\n  Accept: \"application/json\",\n  \"Content-Type\": \"application/json\",\n};\n\nconst updateHeaders = (token: string) => {\n  if (!token) {\n    return;\n  }\n  if (token.startsWith(\"rlt-\")) {\n    // special handling for 'rlt-' token\n    headers.Authorization = `X_WPCOM_RLT ${token}`;\n  } else {\n    headers.Authorization = `Bearer ${token}`;\n  }\n};\n\nexport const fetchImageAsBlob = async (imageUrl: string): Promise<Blob | null> => {\n  // proxy so we can get bytes from images without CORS headers\n  const response = await fetch(`${baseUrl}/image/${encodeURIComponent(imageUrl)}`, {\n    method: \"GET\",\n    headers: {\n      accept: \"image/*\",\n      authorization: headers.Authorization,\n    },\n  });\n  return await response.blob();\n};\n\nconst createCampaign = async (article: CreativeAssetArticleContent, ad: Ad): Promise<Campaign> => {\n  const createCampaignRequest: CreateCampaignRequest = {\n    name: article.title,\n    description: \"\",\n    start_date: ad.start_date,\n    end_date: ad.end_date,\n  };\n\n  const createCampaignResponse = await fetch(`${baseUrl}/campaigns`, {\n    method: \"POST\",\n    body: JSON.stringify(createCampaignRequest),\n    headers,\n  });\n\n  const createdCampaign = (await createCampaignResponse.json()) as CampaignResponse;\n\n  if (!createCampaignResponse.ok) {\n    // const reason = createdAd.errorMessage || \"unknown error\";\n    throw new Error(\"Creating campaign failed\");\n  }\n  return createdCampaign;\n};\n\nconst createAd = async (\n  article: CreativeAssetArticleContent,\n  ad: Ad,\n  createdCampaign: Campaign,\n  widgetParams: WidgetParams\n) => {\n  const createAdRequest: CreateAdRequest = {\n    campaign_id: createdCampaign.campaign_id,\n    name: article.title,\n    description: \"\",\n    start_date: ad.start_date,\n    end_date: ad.end_date,\n    budget_cents: ad.budget_cents,\n    type: ad.type,\n    goal_type: ad.goal_type,\n    target_urn: widgetParams.urn,\n    user_target_geo: ad.user_target_geo,\n    device_target_type: ad.device_target_type,\n    content_target_language: ad.content_target_language,\n    content_target_iab_category: ad.content_target_iab_category,\n  };\n\n  const createAdResponse = await fetch(`${baseUrl}/campaigns/${createdCampaign.campaign_id}/ads`, {\n    method: \"POST\",\n    body: JSON.stringify(createAdRequest),\n    headers,\n  });\n\n  const createdAd = (await createAdResponse.json()) as AdResponse;\n\n  if (!createAdResponse.ok) {\n    // const reason = createdAd.errorMessage || \"unknown error\";\n    throw new Error(\"Creating ad failed\");\n  }\n\n  return createdAd;\n};\n\nexport const readBlob = async (blob: Blob): Promise<string> => {\n  const reader = new FileReader();\n  reader.readAsDataURL(blob);\n  return new Promise((resolve, reject) => {\n    reader.onloadend = () => {\n      const base64data = reader.result;\n      resolve(base64data as string);\n    };\n    reader.onerror = error => {\n      reject(error);\n    };\n  });\n};\n\nconst createCreative = async (\n  article: CreativeAssetArticleContent,\n  createdCampaign: Campaign,\n  createdAd: Ad,\n  widgetParams: WidgetParams\n) => {\n  // hack so we can read the blob as base64\n  const imageRaw = await fetch(article.imageUrl);\n  const blob = await imageRaw.blob();\n\n  // const blob = new Blob([imageBlob], { type: article.imageMimeType });\n\n  const imageBase64 = await readBlob(blob);\n\n  // under the hood this creates a creative of type \"article\" with two assets, one image and one article\n  // there's some shenanigans in order to upload the image with the request\n  const createCreativeRequest: CreateCreativeRequest = {\n    campaign_id: createdCampaign.campaign_id,\n    ad_id: createdAd.ad_id,\n    name: article.title,\n    description: \"\",\n    type: CreativeType.article,\n    urn: widgetParams.urn,\n    width: 300, // todo: this should be defined differently. We should create presets of configurations\n    height: 250,\n    assets: [\n      {\n        mime_type: \"application/json\",\n        content: {\n          title: article.title,\n          snippet: article.snippet,\n          clickUrl: article.clickUrl,\n          imageUrl: \"assets://featured.jpg\", //special URL\n        },\n      },\n      {\n        file_name: \"featured.jpg\",\n        mime_type: article.imageMimeType || \"\",\n        content: imageBase64,\n      },\n    ],\n  };\n\n  const creativeResponse = await fetch(\n    `${baseUrl}/campaigns/${createdCampaign.campaign_id}/ads/${createdAd.ad_id}/creatives`,\n    {\n      method: \"POST\",\n      body: JSON.stringify(createCreativeRequest),\n      headers,\n    }\n  );\n\n  if (!creativeResponse.ok) {\n    throw new Error(\"Uploading assets failed\");\n  }\n\n  const createdCreative = await creativeResponse.json();\n  return createdCreative;\n};\n\nconst submitForModeration = async (createdCampaign: Campaign) => {\n  const submitResponse = await fetch(`${baseUrl}/campaigns/${createdCampaign.campaign_id}/submit`, {\n    method: \"POST\",\n    body: JSON.stringify({}),\n    headers,\n  });\n\n  const submit = await submitResponse.json();\n\n  if (!submitResponse.ok) {\n    throw new Error(\"Submitting for approval failed\");\n  }\n  return submit;\n};\n\nexport const createFullCampaignWidgetModeThunk = createAsyncThunk(\n  \"adBuilder/createFullCampaign\",\n  async (request: AdBuilderState, thunkAPI) => {\n    const { ad, article, widgetParams } = request;\n\n    try {\n      // create the campaign\n      const createdCampaign = await createCampaign(article, ad);\n      await thunkAPI.dispatch(setCampaignCreated(true));\n      console.warn(\"created campaign\", createdCampaign);\n\n      // create the ad\n      const createdAd = await createAd(article, ad, createdCampaign, widgetParams);\n      await thunkAPI.dispatch(setAdCreated(true));\n      console.warn(\"created ad\", createdAd);\n\n      // create the creative\n      const createdCreative = await createCreative(article, createdCampaign, createdAd, widgetParams);\n      await thunkAPI.dispatch(setAssetsUploaded(true));\n      console.warn(\"creative response\", createdCreative);\n\n      // now submit for moderation\n      const submit = await submitForModeration(createdCampaign);\n      await thunkAPI.dispatch(setSubmitted(true));\n      console.warn(\"submit response\", submit);\n\n      await thunkAPI.dispatch(dspApi.util.invalidateTags([\"Creatives\", \"Ads\", \"Campaigns\"]));\n\n      await thunkAPI.dispatch(setCampaignCreatedId(createdCampaign.campaign_id));\n      return {\n        campaign: createdCampaign,\n        ad: createdAd,\n        creative: createdCreative,\n        submit: submit,\n      };\n    } catch (e) {\n      console.error(\"error creating campaign\", e);\n      // if the error has a message prop, display the message\n      if (Object.hasOwnProperty.call(e, \"message\")) {\n        const { message } = e as { message: string };\n        await thunkAPI.dispatch(setCreateCampaignErrorMessage(message));\n      }\n      // delete the campaign in the remote possibility that the campaign was created but no file was attached\n      // TODO LATER\n      // if (campaign_id) {\n      //   await fetch(`${baseUrl}/campaigns/${campaign_id}`, {\n      //     method: \"DELETE\",\n      //   });\n      //   thunkAPI.dispatch(dspApi.util.invalidateTags([\"Creatives\", \"Ads\", \"Campaigns\"]));\n      // }\n    }\n  }\n);\nexport const adBuilderSlice = createSlice({\n  name: \"adBuilder\",\n  initialState,\n  reducers: {\n    setWidgetParams: (state, action: PayloadAction<WidgetParams>) => {\n      state.widgetParams = action.payload;\n      // todo is there a better way to get the baseURL? I'm struggling to find it, this works at least\n      updateBaseUrl(state.widgetParams);\n      updateHeaders(state.widgetParams.authToken);\n    },\n\n    setBuilderMode: (state, action: PayloadAction<BuilderMode>) => {\n      state.builderMode = action.payload;\n    },\n\n    setFormStep: (state, action: PayloadAction<FormSteps>) => {\n      state.formStep = action.payload;\n    },\n\n    setGoalType: (state, action: PayloadAction<GoalType>) => {\n      state.ad.goal_type = action.payload;\n    },\n\n    setAdType: (state, action: PayloadAction<AdType>) => {\n      state.ad.type = action.payload;\n    },\n\n    setTargetUrn: (state, action: PayloadAction<URN>) => {\n      state.ad.target_urn = action.payload;\n    },\n\n    setTargetSiteLanguages: (state, action: PayloadAction<string[]>) => {\n      state.ad.content_target_language = action.payload;\n    },\n\n    setTargetLocations: (state, action: PayloadAction<string[]>) => {\n      state.ad.user_target_geo = action.payload;\n    },\n\n    setDeviceTargetTypes: (state, action: PayloadAction<string[]>) => {\n      state.ad.device_target_type = action.payload;\n    },\n\n    setTargetSiteTopics: (state, action: PayloadAction<string[]>) => {\n      state.ad.content_target_iab_category = action.payload;\n    },\n\n    setAdStartDate: (state, action: PayloadAction<string>) => {\n      state.ad.start_date = action.payload;\n    },\n\n    setAdEndDate: (state, action: PayloadAction<string>) => {\n      state.ad.end_date = action.payload;\n    },\n\n    setAdBudgetCentsPerDay: (state, action: PayloadAction<number>) => {\n      state.ad.budget_cents = action.payload;\n    },\n\n    setArticleTitle: (state, action: PayloadAction<string>) => {\n      state.article.title = action.payload;\n    },\n\n    setArticleSnippet: (state, action: PayloadAction<string>) => {\n      state.article.snippet = action.payload;\n    },\n\n    setArticleClickUrl: (state, action: PayloadAction<string>) => {\n      state.article.clickUrl = action.payload;\n    },\n\n    setArticleImageUrl: (state, action: PayloadAction<string>) => {\n      state.article.imageUrl = action.payload;\n    },\n\n    setArticleImageMimeType: (state, action: PayloadAction<string>) => {\n      state.article.imageMimeType = action.payload;\n    },\n\n    setPaymentMethod: (state, action: PayloadAction<PaymentMethod>) => {\n      state.paymentMethod = action.payload;\n    },\n\n    setNextButtonEnabled: (state, action: PayloadAction<boolean>) => {\n      state.nextButtonEnabled = action.payload;\n    },\n\n    setCampaignCreated: (state, action: PayloadAction<boolean>) => {\n      state.publishStatus.campaignCreated = action.payload;\n    },\n\n    setCampaignCreatedId: (state, action: PayloadAction<number>) => {\n      state.publishStatus.campaignCreatedId = action.payload;\n    },\n\n    setAdCreated: (state, action: PayloadAction<boolean>) => {\n      state.publishStatus.adCreated = action.payload;\n    },\n\n    setAssetsUploaded: (state, action: PayloadAction<boolean>) => {\n      state.publishStatus.assetsUploaded = action.payload;\n    },\n\n    setSubmitted: (state, action: PayloadAction<boolean>) => {\n      state.publishStatus.submitted = action.payload;\n    },\n\n    setCreateCampaignErrorMessage: (state, action: PayloadAction<string>) => {\n      state.publishStatus.errorMessage = action.payload;\n    },\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  setFormStep,\n  setGoalType,\n  setAdType,\n  setTargetUrn,\n  setPaymentMethod,\n  setBuilderMode,\n  setWidgetParams,\n  setTargetSiteLanguages,\n  setDeviceTargetTypes,\n  setTargetSiteTopics,\n  setTargetLocations,\n  setAdStartDate,\n  setAdEndDate,\n  setAdBudgetCentsPerDay,\n  setNextButtonEnabled,\n  setArticleTitle,\n  setArticleSnippet,\n  setArticleClickUrl,\n  setArticleImageUrl,\n  setArticleImageMimeType,\n  setCampaignCreated,\n  setAdCreated,\n  setAssetsUploaded,\n  setSubmitted,\n  setCampaignCreatedId,\n  setCreateCampaignErrorMessage,\n} = adBuilderSlice.actions;\n\nexport default adBuilderSlice.reducer;\n","import * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport Alert from \"@mui/material/Alert\";\nimport {\n  Button,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  Slide,\n  SlideProps,\n  Typography,\n} from \"@mui/material\";\nimport { RootState } from \"@app/store\";\nimport { connect, ConnectedProps, useSelector } from \"react-redux\";\nimport CheckCircleOutlineIcon from \"@mui/icons-material/CheckCircleOutline\";\nimport RadioButtonUncheckedIcon from \"@mui/icons-material/RadioButtonUnchecked\";\nimport Box from \"@mui/system/Box\";\nimport { WidgetPublishStatus } from \"@app/adBuilderSlice\";\n\nconst slideProps: SlideProps = {\n  easing: {\n    enter: \"linear\",\n    exit: \"inherit\",\n  },\n  direction: \"left\",\n  mountOnEnter: true,\n  unmountOnExit: true,\n} as SlideProps;\n\ntype Props = ConnectedProps<typeof connector>;\n\nconst SuccessMessage: React.FC = () => {\n  const campaignCreatedId = useSelector((state: RootState) => state.adBuilder.publishStatus.campaignCreatedId);\n\n  return (\n    <>\n      <Typography variant=\"h2\" sx={{ mb: 2, mt: 0 }} textAlign=\"center\">\n        🎉\n      </Typography>\n      <Typography variant=\"h2\" sx={{ mb: 3 }} textAlign=\"center\">\n        All set\n      </Typography>\n      <Box sx={{ textAlign: \"center\", mb: 2 }}>\n        <Typography\n          variant=\"h6\"\n          sx={{ textAlign: \"center\", mb: 2, display: \"inline-block\", width: \"550px\" }}\n          textAlign=\"center\"\n          component=\"div\"\n          color=\"text.secondary\"\n        >\n          We will contact you shortly once we verify and run the ad\n        </Typography>\n        <Button\n          onClick={e => {\n            fetch(`api/v1/smart/campaigns/${campaignCreatedId}/create`, {\n              method: \"POST\",\n            });\n            const button = e.target as HTMLButtonElement;\n            button.textContent = \"Campaign sent to smart\";\n          }}\n        >\n          Debug: Send campaign to Smart\n        </Button>\n      </Box>\n    </>\n  );\n};\n\nconst PublishProgressItem: React.FC<{ status: boolean; title: string }> = ({ status, title }) => {\n  return (\n    <ListItem>\n      <ListItemButton>\n        <ListItemIcon>\n          {status ? <CheckCircleOutlineIcon color=\"success\" /> : <RadioButtonUncheckedIcon />}\n        </ListItemIcon>\n        <ListItemText primary={title} />\n      </ListItemButton>\n    </ListItem>\n  );\n};\n\nconst PublishProgress: React.FC<{ status: WidgetPublishStatus }> = ({ status }) => {\n  return (\n    <>\n      <List>\n        <PublishProgressItem status={status.campaignCreated} title=\"Campaign Created\" />\n        <PublishProgressItem status={status.adCreated} title=\"Ad Created\" />\n        <PublishProgressItem status={status.assetsUploaded} title=\"Assets Uploaded\" />\n        <PublishProgressItem status={status.submitted} title=\"Submitted for Approval\" />\n      </List>\n    </>\n  );\n};\n\nexport const StepFinishComponent: React.FC<Props> = ({ ad, publishStatus }) => {\n  const { errorMessage } = publishStatus;\n  const isPublishedSuccessfully =\n    publishStatus.campaignCreated && publishStatus.adCreated && publishStatus.assetsUploaded && publishStatus.submitted;\n\n  return (\n    <Slide in={true} {...slideProps}>\n      <Grid container>\n        <Grid item xs={12}>\n          {errorMessage && <Alert severity=\"error\">{errorMessage}</Alert>}\n        </Grid>\n        <Grid item xs={12} sx={{ ml: { lg: 32, md: 32 } }}>\n          <PublishProgress status={publishStatus} />\n        </Grid>\n        <Grid item xs={12}>\n          {isPublishedSuccessfully && <SuccessMessage />}\n        </Grid>\n      </Grid>\n    </Slide>\n  );\n};\n\nconst mapDispatchToProps = {};\nconst mapStateToProps = (state: RootState) => ({\n  paymentMethod: state.adBuilder.paymentMethod,\n  ad: state.adBuilder.ad,\n  formStep: state.adBuilder.formStep,\n  publishStatus: state.adBuilder.publishStatus,\n});\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport const StepFinish = connector(StepFinishComponent);\n","import * as React from \"react\";\nimport { Typography } from \"@mui/material\";\nimport Grid from \"@mui/material/Grid\";\n\ntype Props = {\n  title: string;\n};\n\nexport const BuilderTitle: React.FC<Props> = ({ title }) => {\n  return (\n    <Grid item xs={12}>\n      <Typography align=\"center\" variant=\"h6\">\n        {title}\n      </Typography>\n    </Grid>\n  );\n};\n","import React, { FC } from \"react\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider, { LocalizationProviderProps } from \"@mui/lab/LocalizationProvider\";\n\nexport type DateFnsProviderProps = FC<\n  Omit<LocalizationProviderProps, \"dateAdapter\"> & {\n    utils?: any;\n  }\n>;\n\nconst DateFnsProvider: DateFnsProviderProps = ({ children, utils, ...props }) => {\n  return (\n    <LocalizationProvider dateAdapter={AdapterDateFns} {...props}>\n      {children}\n    </LocalizationProvider>\n  );\n};\n\nexport default DateFnsProvider;\n","import { Campaign, Site, UrnData, WPCOMPost } from \"@type/dsp\";\n\nexport const validateCampaignToSync = (campaign: Campaign): { valid: boolean; reason: string } => {\n  const valid = [campaign.name, campaign.description, campaign.start_date, campaign.end_date].every(el => el);\n  let reason = \"unknown\";\n  if (!campaign.start_date || !campaign.end_date) {\n    reason = \"Invalid dates\";\n  }\n\n  return {\n    valid,\n    reason,\n  };\n};\n\nexport const truncateText = (text: string, maxchars: number) => {\n  return text.length > maxchars ? text.substring(0, maxchars) + \"...\" : text;\n};\n\nexport const extractTextFromHTMLTag = (text: string) => {\n  const div = document.createElement(\"div\");\n  div.innerHTML = text;\n  const textDescription = div.textContent || div.innerText || \"\";\n  return textDescription;\n};\n\nexport const cropAdText = (text: string, characters = 70) => {\n  const stripped = extractTextFromHTMLTag(text);\n  return stripped.length > characters ? truncateText(stripped, characters) : stripped;\n};\n\nexport const extractWooSalePriceFromHTMLTag = (text: string) => {\n  const div = document.createElement(\"div\");\n  div.innerHTML = text;\n  const priceDiv = div.querySelector(\"ins\");\n  const textDescription = priceDiv?.textContent || priceDiv?.innerText || \"\";\n  return textDescription;\n};\n\nexport const getUrnForWPComPost = (site: Site, post: WPCOMPost) => {\n  return `urn:wpcom:post:${site.ID}:${post.ID}`;\n};\n\n// Todo: we should immitate methods used in Wordpress\nexport const formatPriceInCents = (number: number, currency = \"$\"): string => {\n  const numberFormatted = (number / 100).toFixed(2);\n  // Todo: Quite basic, TODO: Improve\n  if (currency === \"$\") {\n    return `${currency}${numberFormatted}`;\n  } else {\n    return `${numberFormatted}${currency}`;\n  }\n};\n\nexport const getDataFromUrn = (urn: string): UrnData => {\n  if (!urn) {\n    return { siteId: 0, postId: 0 };\n  }\n\n  const siteId = +urn.split(\":\")[3];\n  const postId = +urn.split(\":\")[4];\n  return { siteId, postId };\n};\n","import * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { Slide, SlideProps, Slider, TextField, TextFieldProps } from \"@mui/material\";\nimport { BuilderTitle } from \"@components/adBuilder/components/BuilderTitle\";\nimport DateFnsProvider from \"@components/utils/DateFnsProvider\";\nimport { setAdBudgetCentsPerDay, setAdEndDate, setAdStartDate } from \"@app/adBuilderSlice\";\nimport Typography from \"@mui/material/Typography\";\nimport { formatPriceInCents } from \"@utils\";\nimport { parseISO } from \"date-fns\";\nimport { DatePicker } from \"@mui/x-date-pickers/DatePicker\";\n\nconst slideProps: SlideProps = {\n  easing: {\n    enter: \"linear\",\n    exit: \"inherit\",\n  },\n  direction: \"left\",\n  mountOnEnter: true,\n  unmountOnExit: true,\n} as SlideProps;\n\ntype StepBudgetTimingForm = {\n  dailyBudgetInCents: number;\n  startDate: string;\n  endDate: string;\n};\n\ntype StepBudgetTimingProps = {\n  onSubmit: (values: StepBudgetTimingForm) => void;\n  onClickPrevious: () => void;\n  dailyBudgetInCents: number;\n  startDate: string;\n  endDate: string;\n  setAdStartDate: typeof setAdStartDate;\n  setAdEndDate: typeof setAdEndDate;\n  setAdBudgetCentsPerDay: typeof setAdBudgetCentsPerDay;\n};\n\nexport const StepBudgetTiming: React.FC<StepBudgetTimingProps> = ({\n  onClickPrevious,\n  onSubmit,\n  startDate,\n  endDate,\n  dailyBudgetInCents,\n  setAdStartDate,\n  setAdEndDate,\n  setAdBudgetCentsPerDay,\n}) => {\n  return (\n    <Slide in={true} {...slideProps}>\n      <Grid container>\n        <Grid container spacing={2}>\n          <DateFnsProvider>\n            <BuilderTitle title={\"Daily Budget\"} />\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle1\" align=\"center\">\n                Typically $5/day yields about 50 new visitors\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"h4\" textAlign=\"center\">\n                {formatPriceInCents(dailyBudgetInCents)} / day\n              </Typography>\n            </Grid>\n\n            <Grid item xs={12} sx={{ ml: \"20%\", mr: \"20%\" }}>\n              <Slider\n                key=\"budget\"\n                step={25}\n                min={0}\n                max={100 * 50}\n                aria-label=\"Volume\"\n                value={dailyBudgetInCents}\n                onChange={(e, newVal) => {\n                  setAdBudgetCentsPerDay(newVal as number);\n                }}\n              />\n            </Grid>\n\n            <Grid item xs={6}>\n              <DatePicker\n                PopperProps={{ disablePortal: true }}\n                onChange={(date, keyboardInputValue) => {\n                  const newStartString = (date as unknown as Date).toISOString();\n                  setAdStartDate(newStartString);\n                  // invalidate end date if needed\n                  if (endDate && (date as unknown as Date) > parseISO(endDate)) {\n                    setAdEndDate(newStartString);\n                  }\n                }}\n                disablePast\n                label=\"Start Date\"\n                value={startDate}\n                InputProps={{\n                  fullWidth: true,\n                }}\n                renderInput={(params: JSX.IntrinsicAttributes & TextFieldProps) => (\n                  <TextField {...params} fullWidth={true} />\n                )}\n              />\n            </Grid>\n            <Grid item xs={6}>\n              <DatePicker\n                PopperProps={{\n                  disablePortal: true,\n                }}\n                disablePast\n                onChange={(date, keyboardInputValue) => {\n                  setAdEndDate((date as Date).toISOString());\n                }}\n                value={endDate}\n                minDate={parseISO(startDate)}\n                label=\"End Date\"\n                renderInput={(params: JSX.IntrinsicAttributes & TextFieldProps) => (\n                  <TextField {...params} fullWidth={true} />\n                )}\n              />\n            </Grid>\n          </DateFnsProvider>\n        </Grid>\n      </Grid>\n    </Slide>\n  );\n};\n","import * as React from \"react\";\nimport { Theme, useTheme } from \"@mui/material/styles\";\nimport OutlinedInput from \"@mui/material/OutlinedInput\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport FormControl from \"@mui/material/FormControl\";\nimport Select, { SelectChangeEvent } from \"@mui/material/Select\";\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n      width: 250,\n    },\n  },\n  disablePortal: true, // need to disable Portal since we are using Shadow DOM\n};\n\nfunction getStyles(value: string, selectedValues: string[], theme: Theme) {\n  return {\n    fontWeight:\n      selectedValues.length === 0 || selectedValues.indexOf(value) === -1\n        ? theme.typography.fontWeightRegular\n        : theme.typography.fontWeightMedium,\n  };\n}\n\ntype MultipleSelectProps = {\n  values: string[];\n  options: Array<{ value: string; text: string }>;\n  onChange: (ids: string[]) => void;\n  label?: string;\n  placeholder?: string;\n};\n\nexport default function MultipleSelect({ onChange, values, options, label, placeholder }: MultipleSelectProps) {\n  const theme = useTheme();\n\n  const handleChange = (event: SelectChangeEvent<string[]>) => {\n    const {\n      target: { value },\n    } = event;\n    onChange(typeof value === \"string\" ? value.split(\",\") : value);\n  };\n\n  const labelId = `multiple-name-${label}`;\n  return (\n    <div>\n      <FormControl sx={{ m: 0, width: 1 }}>\n        <InputLabel id={labelId}>{label}</InputLabel>\n        <Select\n          labelId={labelId}\n          id={`multiple-${label}`}\n          multiple\n          value={values}\n          onChange={handleChange}\n          input={<OutlinedInput label={label} />}\n          displayEmpty\n          MenuProps={MenuProps}\n          renderValue={selected => {\n            if (selected.length === 0) {\n              return <em>{placeholder}</em>;\n            }\n\n            return selected.map(value => options.find(option => option.value === value)?.text).join(\", \");\n          }}\n        >\n          {options.map(option => (\n            <MenuItem\n              key={`${label}-${option.value}`}\n              value={option.value}\n              style={getStyles(option.value, values, theme)}\n            >\n              {option.text}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n}\n","import CircularProgress from \"@mui/material/CircularProgress\";\nimport LinearProgress from \"@mui/material/LinearProgress\";\n\nconst enum LoadingTypes {\n  default,\n  linear,\n}\n\ntype LoadingProps = {\n  type?: LoadingTypes;\n  showText?: boolean;\n  size?: number;\n  centered?: boolean;\n};\n\nexport const Loading = (props: LoadingProps) => {\n  const { type = LoadingTypes.default, showText = false, size, centered } = props;\n\n  const LoadingComponent =\n    type === LoadingTypes.default ? <CircularProgress size={size} /> : <LinearProgress style={{ width: size || 30 }} />;\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        height: \"100%\",\n        ...(centered && { alignItems: \"center\" }),\n        justifyContent: \"center\",\n        margin: \"0 10px 0 10px\",\n      }}\n    >\n      {LoadingComponent}\n      <span style={{ marginLeft: `${(size || 30) / 2}px` }}>{showText && \"Loading...\"}</span>\n    </div>\n  );\n};\n","import * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { InputLabel, Slide, SlideProps, Typography } from \"@mui/material\";\nimport MultipleSelect from \"@components/adBuilder/components/MultipleSelect\";\nimport {\n  setTargetLocations,\n  setTargetSiteLanguages,\n  setTargetSiteTopics,\n  setDeviceTargetTypes,\n} from \"@app/adBuilderSlice\";\nimport { RootState } from \"@app/store\";\nimport { connect } from \"react-redux\";\nimport {\n  useGetAvailableLocationsQuery,\n  useGetAvailableSiteTargetLanguagesQuery,\n  useGetAvailableSiteTargetTopicsQuery,\n} from \"@app/dspApi\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport { DeviceTargetTypes } from \"@type/dsp\";\n\nconst slideProps: SlideProps = {\n  easing: {\n    enter: \"linear\",\n    exit: \"inherit\",\n  },\n  direction: \"left\",\n  mountOnEnter: true,\n  unmountOnExit: true,\n} as SlideProps;\n\ntype Props = {\n  selectedLanguages?: string[];\n  selectedLocations?: string[];\n  selectedDevices?: string[];\n  selectedTopics?: string[];\n  setTargetLocations: (locations: string[]) => void;\n  setDeviceTargetTypes: (locations: string[]) => void;\n  setTargetSiteLanguages: (languages: string[]) => void;\n  setTargetSiteTopics: (topics: string[]) => void;\n  onSiteTargetingSelected: (step: string) => void;\n  onClickPrevious: () => void;\n};\n// TODO trigger the callback\nexport const StepSiteTargetingComponent: React.FC<Props> = ({\n  selectedLanguages,\n  selectedTopics,\n  selectedLocations,\n  selectedDevices,\n  setTargetSiteLanguages,\n  setDeviceTargetTypes,\n  setTargetSiteTopics,\n  setTargetLocations,\n  onSiteTargetingSelected,\n  onClickPrevious,\n}) => {\n  // TODO get from backend\n  const { data: languagesData, isFetching: isFetchingLanguages } = useGetAvailableSiteTargetLanguagesQuery();\n  const { data: topicsData, isFetching: isFetchingTopics } = useGetAvailableSiteTargetTopicsQuery();\n  const { data: locationsData, isFetching: isFetchingLocations } = useGetAvailableLocationsQuery();\n  const rawLanguages = isFetchingLanguages ? [] : languagesData ?? [];\n  const languages = rawLanguages.map(language => ({ value: language.id, text: language.text }));\n  const rawTopics = isFetchingTopics ? [] : topicsData ?? [];\n  const rawLocations = isFetchingLocations ? [] : locationsData ?? [];\n  const topics = rawTopics.map(topic => ({ value: topic.code, text: topic.text }));\n  const locations = rawLocations.map(location => ({ value: location.id, text: location.text }));\n  const deviceTypes: { text: string; value: DeviceTargetTypes }[] = [\n    { text: \"Desktop\", value: DeviceTargetTypes.desktop },\n    { text: \"Mobile\", value: DeviceTargetTypes.mobile },\n    { text: \"Tablet\", value: DeviceTargetTypes.tablet },\n  ];\n\n  return (\n    <Slide in={true} {...slideProps}>\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Typography variant={\"h3\"}>Location</Typography>\n          <Typography variant={\"subtitle2\"}>Where do you want to promote your post?</Typography>\n\n          <InputLabel sx={{ mt: 2 }}>Country</InputLabel>\n\n          {isFetchingTopics ? (\n            <CircularProgress />\n          ) : (\n            <MultipleSelect\n              values={selectedLocations ?? []}\n              options={locations}\n              onChange={setTargetLocations}\n              placeholder=\"All\"\n            />\n          )}\n        </Grid>\n\n        <Grid item xs={12}>\n          <InputLabel>Language</InputLabel>\n\n          {isFetchingTopics ? (\n            <CircularProgress />\n          ) : (\n            <MultipleSelect\n              values={selectedLanguages ?? []}\n              options={languages}\n              onChange={setTargetSiteLanguages}\n              placeholder=\"All\"\n            />\n          )}\n        </Grid>\n\n        <Grid item xs={12}>\n          {isFetchingLanguages ? (\n            <CircularProgress />\n          ) : (\n            <>\n              <InputLabel id=\"interests\">Interests</InputLabel>\n              <Typography variant={\"subtitle2\"}>Add a broad range of interests as tags.</Typography>\n\n              <MultipleSelect\n                values={selectedTopics ?? []}\n                options={topics}\n                onChange={setTargetSiteTopics}\n                placeholder=\"All\"\n              />\n            </>\n          )}\n        </Grid>\n\n        <Grid item xs={12}>\n          <InputLabel id=\"devices\">Devices</InputLabel>\n          <MultipleSelect\n            values={selectedDevices ?? []}\n            options={deviceTypes}\n            onChange={setDeviceTargetTypes}\n            placeholder=\"All\"\n          />\n        </Grid>\n      </Grid>\n    </Slide>\n  );\n};\n\nconst mapDispatchToProps = { setTargetSiteLanguages, setTargetSiteTopics, setTargetLocations, setDeviceTargetTypes };\nconst mapStateToProps = (state: RootState) => {\n  return {\n    selectedLanguages: state.adBuilder.ad.content_target_language,\n    selectedTopics: state.adBuilder.ad.content_target_iab_category,\n    selectedLocations: state.adBuilder.ad.user_target_geo,\n    selectedDevices: state.adBuilder.ad.device_target_type,\n  };\n};\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport const StepSiteTargeting = connector(StepSiteTargetingComponent);\n","import { Button } from \"@mui/material\";\nimport * as React from \"react\";\nimport _get from \"lodash/get\";\n\ntype UploadButtonProps = {\n  onUpload: (data: any, file: File, urlObject: string) => void;\n  buttonText?: string;\n  name: string;\n};\n\nexport const UploadButton = (props: UploadButtonProps) => {\n  const { onUpload, buttonText, name } = props;\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = _get(event, \"target.files[0]\");\n    if (file) {\n      const formData = new FormData();\n      formData.append(\"image\", file);\n      const urlObject = window.URL.createObjectURL(file);\n      onUpload(formData, file, urlObject);\n    }\n  };\n  return (\n    <>\n      <input\n        id=\"contained-button-file\"\n        accept=\"image/x-png,image/jpeg,image/gif\"\n        onChange={handleChange}\n        style={{ display: \"none\" }}\n        name={name}\n        type=\"file\"\n      />\n      <label htmlFor=\"contained-button-file\">\n        <Button variant=\"contained\" color=\"primary\" component=\"span\">\n          {buttonText || \"Upload\"}\n        </Button>\n      </label>\n    </>\n  );\n};\n","import * as React from \"react\";\nimport { useRef, useState } from \"react\";\nimport ReactCardFlip from \"react-card-flip\";\nimport { Box, Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton } from \"@mui/material\";\nimport Card from \"@mui/material/Card\";\nimport { blue } from \"@mui/material/colors\";\nimport Alert from \"@mui/material/Alert\";\nimport Grid from \"@mui/material/Grid\";\nimport { FormContainer } from \"react-hook-form-mui\";\nimport { UploadButton } from \"../utils/UploadButton\";\nimport { useForm } from \"react-hook-form\";\nimport { styled } from \"@mui/material/styles\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport Typography from \"@mui/material/Typography\";\n\n// card flip component\ntype UploadImageDialogProps = {\n  onClose?: () => void;\n  onSuccess: (imageBlobUrl: string, imageMimeType: string) => void;\n  dialogContainer?: () => HTMLDivElement | null;\n};\n\ntype AddCreativeCardForm = {\n  image: FormData;\n};\n\nconst StyledDialogContainer = styled(Box)(() => ({\n  width: 400,\n\n  \"& form\": {\n    minHeight: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  \"& .upload-dropper\": {\n    marginTop: \"20px\",\n    padding: \"20px\",\n    border: \"#ccc thick dashed\",\n    borderRadius: \"20px\",\n    \"> div\": {\n      // Match the ad image size here so it's a more accurate preview\n      width: \"300px\",\n      height: \"140px\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"50% 50%\",\n    },\n  },\n}));\n\nconst UploadImageDialog: React.FC<UploadImageDialogProps> = ({ onSuccess, onClose, dialogContainer }) => {\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [imageUpload, setImageUpload] = useState<string | undefined>();\n  const [imageMimeType, setImageMimeType] = useState<string>(\"\");\n\n  const formContext = useForm<AddCreativeCardForm>({\n    defaultValues: {\n      image: undefined,\n    },\n  });\n\n  const handleDragOver = (e: React.DragEvent): void => {\n    e.preventDefault();\n  };\n\n  const handleFileDrop = (e: React.DragEvent): void => {\n    e.stopPropagation();\n    e.preventDefault();\n\n    if (e.dataTransfer?.files.length > 1) {\n      setErrorMessage(\"Please select only one image\");\n      return;\n    }\n\n    const file: File = e.dataTransfer?.files[0];\n    setImageUpload(window.URL.createObjectURL(file));\n    setImageMimeType(file.type);\n  };\n\n  const handleUploadFile = (data: FormData, file: File) => {\n    setImageUpload(window.URL.createObjectURL(file));\n    setImageMimeType(file.type);\n  };\n\n  const onSuccessHandler = () => {\n    if (imageUpload) {\n      // TODO\n      // setCreativeAssetArticleContent({ ...articleAsset.content, imageUrl: imageUpload });\n      onSuccess(imageUpload, imageMimeType);\n    }\n  };\n  return (\n    <Dialog\n      open={true}\n      onClose={onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      maxWidth={false}\n      container={dialogContainer}\n    >\n      <StyledDialogContainer>\n        <FormContainer\n          FormProps={{\n            encType: \"multipart/form-data\",\n          }}\n          formContext={formContext}\n          onSuccess={onSuccessHandler}\n        >\n          <DialogTitle id=\"alert-dialog-title\">\n            <Grid container>\n              <Grid item xs={6}>\n                Upload Creative\n              </Grid>\n              <Grid item xs={6}>\n                <Box display=\"flex\" justifyContent=\"flex-end\">\n                  <IconButton\n                    aria-label=\"close\"\n                    onClick={onClose}\n                    sx={{\n                      position: \"absolute\",\n                      right: 8,\n                      top: 8,\n                      color: theme => theme.palette.grey[500],\n                    }}\n                  >\n                    <CloseIcon />\n                  </IconButton>\n                </Box>\n              </Grid>\n            </Grid>\n          </DialogTitle>\n          <DialogContent>\n            {errorMessage && (\n              <Alert severity=\"error\" onClose={() => setErrorMessage(\"\")}>\n                {errorMessage}\n              </Alert>\n            )}\n\n            <div style={{ textAlign: \"center\" }}>\n              {imageUpload && (\n                <UploadButton name=\"image\" buttonText={\"Choose another image\"} onUpload={handleUploadFile} />\n              )}\n              <Box className=\"upload-dropper\" onDragOver={e => handleDragOver(e)} onDrop={e => handleFileDrop(e)}>\n                {imageUpload ? (\n                  // Background image will closer match the created ad (becuase we will need to auto crop large images)\n                  // @todo: Allow the user to change the position (cropping) themselves\n                  <div style={{ backgroundImage: `url(\"${imageUpload}\")` }} />\n                ) : (\n                  <Box pt={10}>\n                    <Typography sx={{ mb: 1 }} textAlign=\"center\">\n                      Drag a file here or click to\n                    </Typography>\n                    <UploadButton name=\"image\" onUpload={handleUploadFile} />\n                  </Box>\n                )}\n              </Box>\n            </div>\n          </DialogContent>\n          <DialogActions>\n            <Button type={\"submit\"} variant={\"contained\"} color={\"primary\"}>\n              Create\n            </Button>\n          </DialogActions>\n        </FormContainer>\n      </StyledDialogContainer>\n    </Dialog>\n  );\n};\n\nconst UploadImageForm = ({ onUpload }: { onUpload?: (creativeImage: string, mimeType: string) => void }) => {\n  const [showUploadDialog, setShowUploadDialog] = React.useState(false);\n  const dialogContainerRef = useRef<HTMLDivElement>(null);\n\n  return (\n    <>\n      <div ref={dialogContainerRef}></div>\n      <ReactCardFlip flipDirection=\"horizontal\">\n        <Box>\n          <Button variant=\"contained\" color=\"primary\" onClick={() => setShowUploadDialog(true)}>\n            Replace image\n          </Button>\n        </Box>\n        <Card\n          sx={{\n            backgroundColor: blue[50],\n            padding: \"50px 0\",\n            textAlign: \"center\",\n          }}\n        >\n          {showUploadDialog && (\n            <UploadImageDialog\n              onClose={() => setShowUploadDialog(false)}\n              onSuccess={(imageBlobUrl, mimeType) => {\n                setShowUploadDialog(false);\n                onUpload && onUpload(imageBlobUrl, mimeType);\n              }}\n              dialogContainer={() => dialogContainerRef.current}\n            />\n          )}\n        </Card>\n      </ReactCardFlip>\n    </>\n  );\n};\n\nexport default UploadImageForm;\n","\n      import API from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../dsp-client/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[1]!../../../../dsp-client/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[2]!../../../../dsp-client/node_modules/source-map-loader/dist/cjs.js!./ad_300_250_styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function insertIntoShadowDom(element) {\n                                    // see WidgetStyles.tsx\n                                    if (!window._dsp_widget_styles) {\n                                        window._dsp_widget_styles = [];\n                                    }\n                                    window._dsp_widget_styles.push(element);\n                                    // use vanilla js since this runs in browser\n                                    // DOM might not be ready yet when this runs, so let's wait a bit\n                                    // eslint-disable-next-line no-var\n                                    var retry = 10;\n                                    function insertWithRetry() {\n                                        if (retry-- > 0) {\n                                            // eslint-disable-next-line no-var\n                                            var node = null;\n                                            // @font-face won't work in shadow dom, so need to be global\n                                            if (element.innerHTML.includes(\"@font-face\")) {\n                                                node = document.querySelector(\"head\");\n                                            }\n                                            else {\n                                                node = document.querySelector(\"#wpcom-dsp-widget-shadow-dom\");\n                                                if (node) {\n                                                    node = node.shadowRoot;\n                                                }\n                                            }\n                                            if (node) {\n                                                node.prepend(element);\n                                            }\n                                            else {\n                                                setTimeout(insertWithRetry, 10);\n                                            }\n                                        }\n                                    }\n                                    insertWithRetry();\n                                };\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../dsp-client/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[1]!../../../../dsp-client/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[2]!../../../../dsp-client/node_modules/source-map-loader/dist/cjs.js!./ad_300_250_styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      \n      import setAttributes from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../dsp-client/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../dsp-client/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[1]!../../../../dsp-client/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[2]!../../../../dsp-client/node_modules/source-map-loader/dist/cjs.js!./reset.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = function insertIntoShadowDom(element) {\n                                    // see WidgetStyles.tsx\n                                    if (!window._dsp_widget_styles) {\n                                        window._dsp_widget_styles = [];\n                                    }\n                                    window._dsp_widget_styles.push(element);\n                                    // use vanilla js since this runs in browser\n                                    // DOM might not be ready yet when this runs, so let's wait a bit\n                                    // eslint-disable-next-line no-var\n                                    var retry = 10;\n                                    function insertWithRetry() {\n                                        if (retry-- > 0) {\n                                            // eslint-disable-next-line no-var\n                                            var node = null;\n                                            // @font-face won't work in shadow dom, so need to be global\n                                            if (element.innerHTML.includes(\"@font-face\")) {\n                                                node = document.querySelector(\"head\");\n                                            }\n                                            else {\n                                                node = document.querySelector(\"#wpcom-dsp-widget-shadow-dom\");\n                                                if (node) {\n                                                    node = node.shadowRoot;\n                                                }\n                                            }\n                                            if (node) {\n                                                node.prepend(element);\n                                            }\n                                            else {\n                                                setTimeout(insertWithRetry, 10);\n                                            }\n                                        }\n                                    }\n                                    insertWithRetry();\n                                };\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../dsp-client/node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[1]!../../../../dsp-client/node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[1].oneOf[5].use[2]!../../../../dsp-client/node_modules/source-map-loader/dist/cjs.js!./reset.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import \"@templates/ad_300_250_styles.css\";\nimport \"@templates/reset.css\";\n\nexport const AdPreviewWrapper = ({ children }: { children: any }) => {\n  return (\n    <div\n      style={{\n        width: \"300px\", // todo: this should be changed dynamically in the future\n        boxShadow:\n          \"rgba(0, 0, 0, 0.2) 0px 12px 28px 0px, rgba(0, 0, 0, 0.1) 0px 2px 4px 0px, rgba(255, 255, 255, 0.05) 0px 0px 0px 1px inset\",\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n","import React from \"react\"; // Required for the server to understand the JSX\nimport { CreativeAssetArticleContent } from \"@type/dsp\";\n\n// These imports will be called in a wrapper component (not exposed to the server) in the UI\n// As it is impossible to make node to ignore css files unless we add babel or webpack to create a loader\n// import \"./reset.css\";\n// import \"./ad_300_250_styles.css\"; //\n\nexport const AdContainer = (props: any) => {\n  return <div className=\"ad-container\">{props.children}</div>;\n};\n\nexport const AdPostTitle = (props: CreativeAssetArticleContent) => {\n  return (\n    <div className=\"ad-snippet\">\n      <p>{props.snippet}</p>\n    </div>\n  );\n};\n\nexport const AdImage = (props: CreativeAssetArticleContent) => {\n  return (\n    <div className=\"ad-image\">\n      {props.imageUrl ? (\n        <img style={{ width: \"100%\" }} src={props.imageUrl} alt={`${props.title} image`} />\n      ) : (\n        <div className=\"no-image\">\n          🏞\n          <br />\n          <br />\n          Please upload an image\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const AdSiteTitle = (props: CreativeAssetArticleContent) => {\n  return (\n    <div className=\"ad-header\">\n      <div className=\"ad-header-title\" style={{}}>\n        {props.title}\n      </div>\n      <div className=\"ad-header-subtitle\">Sponsored</div>\n    </div>\n  );\n};\n","import React from \"react\";\n\nimport { CreativeAssetArticleContent } from \"@type/dsp\";\nimport { AdSiteTitle, AdPostTitle, AdImage, AdContainer } from \"@components/creative/adTemplates/adBlocks\";\n\nconst Ad_300_250 = (props: CreativeAssetArticleContent) => {\n  return (\n    <AdContainer>\n      <AdSiteTitle {...props} />\n      <AdImage {...props} />\n      <AdPostTitle {...props} />\n    </AdContainer>\n  );\n};\n\nexport default Ad_300_250;\n","import * as React from \"react\";\nimport { useEffect, useState } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { Alert, AlertTitle, Box, Grow, Slide, SlideProps, TextField } from \"@mui/material\";\nimport { BuilderTitle } from \"@components/adBuilder/components/BuilderTitle\";\nimport {\n  fetchImageAsBlob,\n  setArticleClickUrl,\n  setArticleImageMimeType,\n  setArticleImageUrl,\n  setArticleSnippet,\n  setArticleTitle,\n  setNextButtonEnabled,\n} from \"@app/adBuilderSlice\";\nimport { useGetSitePostQuery } from \"@app/dspApi\";\nimport { extractTextFromHTMLTag, getDataFromUrn } from \"@utils\";\nimport { RootState } from \"@app/store\";\nimport { Loading } from \"@components/utils/Loading\";\nimport UploadImageForm from \"@components/creative/AddCreativeCard\";\nimport { AdPreviewWrapper } from \"./AdPreviewWrapper\";\nimport { connect, ConnectedProps, useDispatch } from \"react-redux\";\nimport Ad_300_250 from \"@components/creative/adTemplates/ad_300_250\";\nimport { FormContainer } from \"react-hook-form-mui\";\nimport { useForm } from \"react-hook-form\";\nimport _ from \"lodash\";\n\nconst slideProps: SlideProps = {\n  easing: {\n    enter: \"linear\",\n    exit: \"inherit\",\n  },\n  direction: \"left\",\n  mountOnEnter: true,\n  unmountOnExit: true,\n} as SlideProps;\n\ntype StepPreviewCreativeProps = {\n  urn: string;\n};\n\ntype Props = ConnectedProps<typeof connector>;\n\nconst StepPreviewCreativeComponent: React.FC<Props & StepPreviewCreativeProps> = ({ urn, article }) => {\n  const { postId, siteId } = getDataFromUrn(urn);\n  const [adLoaded, setAdLoaded] = useState(false);\n  const dispatch = useDispatch();\n\n  const {\n    data: sitePost,\n    error: sitePostError,\n    isLoading: sitePostIsLoading,\n  } = useGetSitePostQuery({\n    post_id: postId,\n    site_id: siteId,\n  });\n\n  const formContext = useForm({\n    mode: \"all\", // re-runs validation onBlur & onChange (default is onSubmit)\n  });\n\n  const {\n    setValue,\n    formState: { errors },\n  } = formContext;\n  const hasErrors = _.isEmpty(errors);\n\n  // Disable the next button if the form has errors\n  useEffect(() => {\n    dispatch(setNextButtonEnabled(hasErrors));\n  }, [errors, hasErrors]);\n\n  useEffect(() => {\n    const downloadWPData = async () => {\n      if (sitePost) {\n        const { title, excerpt, URL, post_thumbnail } = sitePost;\n\n        let imageUploadedObjectURL;\n        // setup blob\n        if (post_thumbnail?.URL) {\n          const result = await fetchImageAsBlob(post_thumbnail.URL);\n          if (result) {\n            imageUploadedObjectURL = window.URL.createObjectURL(result);\n          }\n        }\n\n        setAdLoaded(true);\n\n        // Set form values - this will act as an onChange and subsequently call dispatch\n        setValue(\"title\", title);\n        setValue(\"snippet\", extractTextFromHTMLTag(excerpt));\n        setValue(\"url\", URL);\n\n        // Image isn't managed by the form container - so dispatch these manually\n        dispatch(setArticleImageUrl(imageUploadedObjectURL || post_thumbnail?.URL || \"\"));\n        dispatch(setArticleImageMimeType(post_thumbnail?.mime_type || \"\"));\n        dispatch(setArticleTitle(title));\n        dispatch(setArticleSnippet(extractTextFromHTMLTag(excerpt)));\n        dispatch(setArticleClickUrl(URL));\n        dispatch(setNextButtonEnabled(true));\n      }\n    };\n    downloadWPData();\n  }, [dispatch, setValue, sitePost]);\n  if (sitePostIsLoading || !article) {\n    return <Loading centered />;\n  }\n\n  // TODO: encapsulate this so we can reuse in other steps\n  if (sitePostError) {\n    let errorMessage = null;\n    if (\"status\" in sitePostError) {\n      // you can access all properties of `FetchBaseQueryError` here\n      const responseData = sitePostError.data as { errorMessage: string };\n      errorMessage =\n        \"error\" in sitePostError\n          ? sitePostError.error\n          : \"errorMessage\" in responseData\n          ? responseData.errorMessage\n          : JSON.stringify(sitePostError.data);\n    } else {\n      // you can access all properties of `SerializedError` here\n      errorMessage = sitePostError.message || \"Please reload the page and try again\";\n    }\n\n    return (\n      <Alert severity=\"error\">\n        <AlertTitle>There was an error</AlertTitle>\n        {errorMessage}\n      </Alert>\n    );\n  }\n\n  if (!article) {\n    return <div>Undefined object</div>;\n  }\n\n  return (\n    <Slide in={true} {...slideProps}>\n      <Grid container>\n        <BuilderTitle title={\"Let's customize the creative\"} />\n        <Grid container sx={{ mt: 3 }}>\n          <Grid item xs={6}>\n            {adLoaded ? (\n              <Grow timeout={1000} in>\n                <Box>\n                  <AdPreviewWrapper>\n                    <Ad_300_250 {...article} />\n                  </AdPreviewWrapper>\n                </Box>\n              </Grow>\n            ) : (\n              <Loading centered />\n            )}\n          </Grid>\n\n          <Grid item xs={6} sx={{ pl: 2 }}>\n            <FormContainer formContext={formContext} onSuccess={() => {}}>\n              <TextField\n                margin={\"normal\"}\n                label=\"Title\"\n                name=\"title\"\n                required\n                fullWidth\n                value={article.title}\n                onChange={e => {\n                  dispatch(setArticleTitle(e.target.value));\n                }}\n              />\n              <TextField\n                margin={\"normal\"}\n                name=\"snippet\"\n                label=\"Snippet\"\n                required\n                multiline\n                fullWidth\n                rows={2}\n                value={article.snippet}\n                onChange={e => {\n                  dispatch(setArticleSnippet(e.target.value));\n                }}\n              />\n\n              <TextField\n                margin={\"normal\"}\n                name=\"url\"\n                label=\"Target Url\"\n                required\n                fullWidth\n                value={article.clickUrl}\n                onChange={e => {\n                  dispatch(setArticleClickUrl(e.target.value));\n                }}\n              />\n              <Box mt={2}>\n                <UploadImageForm\n                  onUpload={(imageBlobUrl, mimetype) => {\n                    dispatch(setArticleImageUrl(imageBlobUrl));\n                    dispatch(setArticleImageMimeType(mimetype));\n                    // TODO: proper validation before enabling the button\n                    if (!errors) dispatch(setNextButtonEnabled(true));\n                  }}\n                />\n              </Box>\n            </FormContainer>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Slide>\n  );\n};\n\n// const mapDispatchToProps = { setFormStep, setTargetUrn, setAdType };\nconst mapStateToProps = (state: RootState) => ({\n  article: state.adBuilder.article,\n  urn: state.adBuilder.widgetParams.urn,\n});\nconst connector = connect(mapStateToProps);\nexport const StepPreviewCreative = connector(StepPreviewCreativeComponent);\n","import { Divider, ListItem, ListItemText, Typography } from \"@mui/material\";\nimport * as React from \"react\";\n\ntype Props = {\n  value: string | undefined;\n  label: string;\n};\n\nexport const FormResultField: React.FC<Props> = ({ value, label }) => {\n  return (\n    <>\n      <ListItem alignItems=\"flex-start\">\n        <ListItemText\n          primary={label}\n          secondary={\n            <React.Fragment>\n              <Typography sx={{ display: \"inline\" }} component=\"span\" variant=\"body2\" color=\"text.primary\">\n                {value}\n              </Typography>\n            </React.Fragment>\n          }\n        />\n      </ListItem>\n      <Divider variant=\"inset\" component=\"li\" />\n    </>\n  );\n};\n","import * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { List, Slide, SlideProps, Typography } from \"@mui/material\";\nimport { RootState } from \"@app/store\";\nimport { connect, ConnectedProps } from \"react-redux\";\nimport { FormResultField } from \"./FormResultField\";\nimport { AdPreviewWrapper } from \"@components/adBuilder/components/AdPreviewWrapper\";\nimport Ad_300_250 from \"@components/creative/adTemplates/ad_300_250\";\n\nconst slideProps: SlideProps = {\n  easing: {\n    enter: \"linear\",\n    exit: \"inherit\",\n  },\n  direction: \"left\",\n  mountOnEnter: true,\n  unmountOnExit: true,\n} as SlideProps;\n\ntype Props = ConnectedProps<typeof connector>;\n\nexport const StepConfirmAdComponent: React.FC<Props> = ({ article, paymentMethod }) => {\n  return (\n    <Slide in {...slideProps}>\n      <Grid item xs={12}>\n        <Typography variant=\"h4\" sx={{ mb: 2, mt: { sm: 2, lg: 0 } }} textAlign=\"center\">\n          Let's review the ad 👌\n        </Typography>\n\n        <List\n          sx={{\n            width: \"100%\",\n            bgcolor: \"background.paper\",\n            overflow: \" auto\",\n          }}\n        >\n          <FormResultField value={article.clickUrl} label=\"Target URL\" />\n          <FormResultField value={paymentMethod} label=\"Payment Method\" />\n        </List>\n        <Grid container spacing={0} direction=\"column\" alignItems=\"center\" sx={{ mt: 3 }}>\n          <Grid item xs={4}>\n            <AdPreviewWrapper>\n              <Ad_300_250 {...article} />\n            </AdPreviewWrapper>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Slide>\n  );\n};\n\nconst mapDispatchToProps = {};\nconst mapStateToProps = (state: RootState) => ({\n  paymentMethod: state.adBuilder.paymentMethod,\n  article: state.adBuilder.article,\n  formStep: state.adBuilder.formStep,\n});\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport const StepConfirmAd = connector(StepConfirmAdComponent);\n","import * as React from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { Button, Slide, SlideProps } from \"@mui/material\";\nimport { BuilderTitle } from \"@components/adBuilder/components/BuilderTitle\";\nimport { RootState } from \"@app/store\";\nimport { connect, ConnectedProps } from \"react-redux\";\nimport { setPaymentMethod } from \"@app/adBuilderSlice\";\nimport { useEffect, useRef, useState } from \"react\";\nimport AttachMoneyIcon from \"@mui/icons-material/AttachMoney\";\nimport \"@power-elements/stripe-elements\";\n\n/**\n * Stripe token looks like this:\n * {\n  \"id\": \"tok_1LAkCwHQRXl8YKderG1C6qPX\",\n  \"object\": \"token\",\n  \"card\": {\n    \"id\": \"card_1LAkCwHQRXl8YKdeZiFdpsy1\",\n    \"object\": \"card\",\n    \"address_city\": null,\n    \"address_country\": null,\n    \"address_line1\": null,\n    \"address_line1_check\": null,\n    \"address_line2\": null,\n    \"address_state\": null,\n    \"address_zip\": \"95945\",\n    \"address_zip_check\": \"unchecked\",\n    \"brand\": \"Visa\",\n    \"country\": \"US\",\n    \"cvc_check\": \"unchecked\",\n    \"dynamic_last4\": null,\n    \"exp_month\": 3,\n    \"exp_year\": 2027,\n    \"funding\": \"credit\",\n    \"last4\": \"5302\",\n    \"name\": null,\n    \"tokenization_method\": null\n  },\n  \"client_ip\": \"73.41.206.228\",\n  \"created\": 1655253342,\n  \"livemode\": false,\n  \"type\": \"card\",\n  \"used\": false\n}\n */\n\ntype StripeCard = {\n  id: string;\n  object: string; // card\n  address_city: string | null;\n  address_country: string | null;\n  address_line1: string | null;\n  address_line1_check: string | null;\n  address_line2: string | null;\n  address_state: string | null;\n  address_zip: string;\n  address_zip_check: string;\n  brand: string;\n  country: string;\n  cvc_check: string;\n  dynamic_last4: string | null;\n  exp_month: number;\n  exp_year: number;\n  funding: string;\n  last4: string;\n  name: string | null;\n  tokenization_method: string | null;\n};\n\ntype StripeToken = {\n  id: string;\n  object: string; // token\n  card: StripeCard;\n  client_ip: string;\n  created: number;\n  livemode: boolean;\n  type: string; // card\n  used: boolean;\n};\n\ntype StripeTokenResponse = {\n  token: StripeToken;\n};\n\ntype StripeErrorEvent = ErrorEvent & {\n  detail?: StripeError;\n};\n\ntype StripeError = string; // maybe?\n\n// This interface describes our custom element, holding all its\n// available attributes. This should be placed within a .d.ts file.\ndeclare interface StripeElementsComponent extends HTMLElement {\n  checked: boolean;\n  createToken: () => Promise<StripeTokenResponse>;\n}\n\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      \"stripe-elements\": React.DetailedHTMLProps<\n        React.HTMLAttributes<StripeElementsComponent>,\n        StripeElementsComponent\n      >;\n    }\n  }\n}\n\ntype CheckoutFormProps = {\n  stripeKey: string;\n};\n\nconst CheckoutForm: React.FC<CheckoutFormProps> = ({ stripeKey }) => {\n  const stripeRef = useRef<StripeElementsComponent>(null);\n  const [disabled, setDisabled] = useState(true);\n  const [token, setToken] = useState<StripeToken | null>(null);\n  const [error, setError] = useState<StripeError | null>(null);\n\n  const onChange = (event: any) => {\n    console.warn(\"on change\", event);\n    const el = event.target;\n    setDisabled(!el.complete || el.empty);\n  };\n\n  const onError = (event: StripeErrorEvent) => {\n    console.warn(\"on error\", event);\n    setError(event.detail || \"Unknown error\");\n  };\n\n  const onToken = (event: any) => {\n    console.warn(\"on token\", event);\n    setToken(event.token);\n  };\n\n  //compose(setDisabled, isDisabled, getTarget);\n\n  useEffect(() => {\n    if (stripeRef.current) {\n      stripeRef.current.addEventListener(\"change\", onChange);\n      stripeRef.current.addEventListener(\"error\", onError);\n      stripeRef.current.addEventListener(\"token\", onToken);\n      // if (token || error) viewerRef.current.object = token;\n\n      return () => {\n        if (stripeRef.current) {\n          stripeRef.current.removeEventListener(\"change\", onChange);\n          stripeRef.current.removeEventListener(\"error\", onError);\n          stripeRef.current.removeEventListener(\"token\", onToken);\n        }\n      };\n    }\n  }, []);\n\n  const handleClick = async (event: any) => {\n    if (stripeRef.current) {\n      const token = await stripeRef.current.createToken();\n      setToken(token.token);\n    }\n  };\n\n  return (\n    <>\n      <stripe-elements ref={stripeRef} publishable-key={stripeKey} />\n      <Button\n        variant=\"contained\"\n        type=\"submit\"\n        disabled={disabled}\n        onClick={handleClick}\n        startIcon={<AttachMoneyIcon />}\n      >\n        Pay\n      </Button>\n      {token && <div>Token: {JSON.stringify(token)}</div>}\n      {error && <div>Error: {JSON.stringify(error)}</div>}\n    </>\n  );\n};\n\nconst slideProps: SlideProps = {\n  easing: {\n    enter: \"linear\",\n    exit: \"inherit\",\n  },\n  direction: \"left\",\n  mountOnEnter: true,\n  unmountOnExit: true,\n} as SlideProps;\n\ntype Props = ConnectedProps<typeof connector>;\n\nexport const StepPayComponent: React.FC<Props> = ({ stripeKey }) => {\n  return (\n    <Slide in={true} {...slideProps}>\n      <Grid container spacing={2}>\n        <BuilderTitle title={\"Payment Details\"} />\n        <Grid item xs={12}>\n          <CheckoutForm stripeKey={stripeKey} />\n        </Grid>\n      </Grid>\n    </Slide>\n  );\n};\n\nconst mapDispatchToProps = { setPaymentMethod };\nconst mapStateToProps = (state: RootState) => ({\n  stripeKey: state.adBuilder.widgetParams.stripeKey,\n});\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport const StepPay = connector(StepPayComponent);\n","import React, { Ref, useState } from \"react\";\nimport \"@fontsource/source-sans-pro\";\nimport \"@fontsource/libre-baskerville\";\nimport \"@fontsource/roboto/300.css\";\nimport \"@fontsource/roboto/400.css\";\nimport \"@fontsource/roboto/500.css\";\nimport \"@fontsource/roboto/700.css\";\nimport {\n  Alert,\n  Box,\n  Button,\n  Container,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  IconButton,\n} from \"@mui/material\";\nimport CloseIcon from \"@mui/icons-material/Close\";\nimport { StepWidgetIntro } from \"./components/StepWidgetIntro\";\nimport { WidgetStepper } from \"./components/WidgetStepper\";\nimport { FormSteps } from \"@type/dsp\";\nimport { connect, ConnectedProps } from \"react-redux\";\nimport {\n  createFullCampaignWidgetModeThunk,\n  setAdBudgetCentsPerDay,\n  setAdEndDate,\n  setAdStartDate,\n  setFormStep,\n  setNextButtonEnabled,\n} from \"@app/adBuilderSlice\";\nimport { RootState } from \"@app/store\";\nimport { StepFinish } from \"@components/adBuilder/components/StepFinish\";\nimport { StepBudgetTiming } from \"@components/adBuilder/components/StepBudgetTiming\";\nimport { StepSiteTargeting } from \"@components/adBuilder/components/StepSiteTargeting\";\nimport { StepPaymentMethod } from \"@components/adBuilder/components/StepPaymentMethod\";\nimport { StepPreviewCreative } from \"@components/adBuilder/components/StepPreviewCreative\";\nimport { StepConfirmAd } from \"@components/adBuilder/components/StepConfirmAd\";\nimport { StepPay } from \"@components/adBuilder/components/StepPay\";\n\ntype OwnProps = {\n  onClose?: () => void;\n  onSuccess?: (CampaignExtended: any) => void; // to be defined the naturality of this whole object\n  dialogContainer?: () => HTMLDivElement | null;\n};\n\ntype Props = ConnectedProps<typeof connector> & OwnProps;\n\nconst formSteps = [\n  FormSteps.intro,\n  FormSteps.previewCreative,\n  FormSteps.siteTargeting,\n  FormSteps.budgetTiming,\n  FormSteps.pay,\n  FormSteps.confirmAd,\n  FormSteps.finish,\n];\n\nfunction getPreviousStep(step: FormSteps) {\n  const index = formSteps.indexOf(step);\n  return formSteps[index - 1];\n}\n\nfunction getNextStep(step: FormSteps) {\n  const index = formSteps.indexOf(step);\n  return formSteps[index + 1];\n}\n\nexport const AdBuilderComponent: React.FC<Props> = ({\n  formStep,\n  setFormStep,\n  onClose,\n  onSuccess,\n  startDate,\n  endDate,\n  dailyBudgetInCents,\n  setAdStartDate,\n  setAdEndDate,\n  setAdBudgetCentsPerDay,\n  nextButtonEnabled,\n  createFullCampaignWidgetModeThunk,\n  setNextButtonEnabled,\n  adBuilder,\n  dialogContainer,\n}) => {\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  return (\n    <Dialog\n      container={dialogContainer}\n      open={true}\n      onClose={onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      fullWidth={true}\n      maxWidth=\"md\"\n      sx={{\n        \"& > .MuiDialog-container\": {\n          \"& > .MuiPaper-root\": {\n            height: {\n              xs: \"calc(100vh - 64px)\",\n              sm: \"800px\",\n              lg: \"800px\",\n            },\n          },\n        },\n      }}\n    >\n      {formStep !== FormSteps.intro ? (\n        <DialogTitle\n          sx={{\n            mb: 2,\n          }}\n          id=\"dialog-title\"\n        >\n          <Grid container>\n            {/*<Grid item xs={6}>\n                Boost the Post\n              </Grid>*/}\n            <Grid item xs={6}>\n              <Box display=\"flex\" justifyContent=\"flex-end\">\n                <IconButton\n                  aria-label=\"close\"\n                  onClick={onClose}\n                  sx={{\n                    position: \"absolute\",\n                    right: 8,\n                    top: 8,\n                    color: theme => theme.palette.grey[500],\n                  }}\n                >\n                  <CloseIcon />\n                </IconButton>\n              </Box>\n            </Grid>\n            <Grid item xs={12} sx={{ mt: 3 }}>\n              {/* <MobileWidgetStepper formStep={formStep}/> */}\n              <WidgetStepper formStep={formStep} />\n            </Grid>\n          </Grid>\n        </DialogTitle>\n      ) : (\n        <Grid container>\n          <Grid item xs={12}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              <IconButton\n                aria-label=\"close\"\n                onClick={onClose}\n                sx={{\n                  position: \"absolute\",\n                  right: 8,\n                  top: 8,\n                  color: theme => theme.palette.grey[500],\n                }}\n              >\n                <CloseIcon />\n              </IconButton>\n            </Box>\n          </Grid>\n        </Grid>\n      )}\n\n      <DialogContent>\n        {errorMessage && (\n          <Alert severity=\"error\" onClose={() => setErrorMessage(\"\")}>\n            {errorMessage}\n          </Alert>\n        )}\n        <Container\n          sx={{\n            overflow: \"hidden\",\n            height: \"100%\",\n          }}\n        >\n          {formStep === FormSteps.intro && (\n            <StepWidgetIntro\n              onClickGetStarted={() => {\n                setFormStep(FormSteps.previewCreative);\n                setNextButtonEnabled(false);\n              }}\n            />\n          )}\n          {formStep === FormSteps.previewCreative && <StepPreviewCreative />}\n          {formStep === FormSteps.siteTargeting && (\n            <StepSiteTargeting\n              onSiteTargetingSelected={(siteTarget: string) => {\n                console.warn(\"selected site targeting\", siteTarget);\n                // go to the next step\n                setFormStep(FormSteps.budgetTiming);\n              }}\n              onClickPrevious={function (): void {\n                console.warn(\"clicked previous\");\n                setFormStep(FormSteps.previewCreative);\n              }}\n            />\n          )}\n          {formStep === FormSteps.budgetTiming && (\n            <StepBudgetTiming\n              onSubmit={values => {\n                console.warn(\"submit budget timing\", values);\n                // go to the next step\n                setFormStep(FormSteps.paymentMethod);\n              }}\n              onClickPrevious={function (): void {\n                console.warn(\"clicked previous\");\n                setFormStep(FormSteps.siteTargeting);\n              }}\n              startDate={startDate}\n              endDate={endDate}\n              dailyBudgetInCents={dailyBudgetInCents}\n              setAdStartDate={setAdStartDate}\n              setAdEndDate={setAdEndDate}\n              setAdBudgetCentsPerDay={setAdBudgetCentsPerDay}\n            />\n          )}\n          {formStep === FormSteps.pay && <StepPay />}\n          {formStep === FormSteps.confirmAd && <StepConfirmAd />}\n          {formStep === FormSteps.finish && <StepFinish />}\n        </Container>\n      </DialogContent>\n      <DialogActions\n        sx={{\n          flex: \"inherit\",\n        }}\n      >\n        <Grid container>\n          <Grid item xs={6}>\n            {formStep !== FormSteps.intro && formStep !== FormSteps.finish && (\n              <Button\n                color=\"secondary\"\n                disabled={getPreviousStep(formStep) === undefined}\n                onClick={() => {\n                  setFormStep(getPreviousStep(formStep));\n                }}\n              >\n                Previous\n              </Button>\n            )}\n          </Grid>\n          <Grid item xs={6}>\n            <Box display=\"flex\" justifyContent=\"flex-end\">\n              {formStep === FormSteps.confirmAd && (\n                <Button\n                  type={\"submit\"}\n                  variant={\"contained\"}\n                  color={\"primary\"}\n                  onClick={async () => {\n                    setFormStep(getNextStep(formStep));\n                    const campaignCreated = await createFullCampaignWidgetModeThunk(adBuilder);\n                    onSuccess && onSuccess(campaignCreated);\n                  }}\n                >\n                  Create\n                </Button>\n              )}\n              {getNextStep(formStep) !== undefined && formStep !== FormSteps.intro && formStep !== FormSteps.confirmAd && (\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={!nextButtonEnabled}\n                  onClick={() => {\n                    setFormStep(getNextStep(formStep));\n                  }}\n                >\n                  Continue\n                </Button>\n              )}\n            </Box>\n          </Grid>\n        </Grid>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nconst mapDispatchToProps = {\n  setFormStep,\n  createFullCampaignWidgetModeThunk,\n  setAdStartDate,\n  setAdEndDate,\n  setAdBudgetCentsPerDay,\n  setNextButtonEnabled,\n};\nconst mapStateToProps = (state: RootState) => ({\n  formStep: state.adBuilder.formStep,\n  dailyBudgetInCents: state.adBuilder.ad.budget_cents,\n  startDate: state.adBuilder.ad.start_date,\n  endDate: state.adBuilder.ad.end_date,\n  adBuilder: state.adBuilder,\n  nextButtonEnabled: state.adBuilder.nextButtonEnabled,\n});\nconst connector = connect(mapStateToProps, mapDispatchToProps);\nexport const AdBuilderWidget = connector(AdBuilderComponent);\n","export const COLOR_PRIMARY = \"#264aef\";\nexport const COLOR_SECONDARY = \"#757575\";\n\nexport const COLOR_TEXT_PRIMARY = \"#1E1E1E\";\nexport const COLOR_TEXT_SECONDARY = \"#757575\";\n","import { PaletteOptions } from \"@mui/material/styles/createPalette\";\n\nimport * as c from \"./colors\";\n\nexport const palette: PaletteOptions = {\n  primary: {\n    main: c.COLOR_PRIMARY,\n    light: c.COLOR_PRIMARY,\n    dark: c.COLOR_PRIMARY,\n  },\n  secondary: {\n    main: c.COLOR_SECONDARY,\n  },\n  text: {\n    primary: c.COLOR_TEXT_PRIMARY,\n    secondary: c.COLOR_TEXT_SECONDARY,\n  },\n};\n","import React from \"react\";\nimport { Link, LinkProps } from \"react-router-dom\";\nimport { Components } from \"@mui/material/styles/components\";\nimport { COLOR_SECONDARY, COLOR_TEXT_PRIMARY } from \"./colors\";\n\nconst LinkBehavior = React.forwardRef<any, Omit<LinkProps, \"to\"> & { href: LinkProps[\"to\"] }>((props, ref) => {\n  const { href, ...other } = props;\n  // Map href (MUI) -> to (react-router)\n  return <Link ref={ref} to={href} {...other} />;\n});\n\n/**\n * Keeping this list alphabetical for easier maintenance\n */\nexport const components: Components = {\n  MuiButton: {\n    styleOverrides: {\n      root: {\n        borderRadius: 2,\n        padding: \"12px 64px\",\n        textTransform: \"none\",\n      },\n    },\n  },\n  MuiButtonBase: {\n    defaultProps: {\n      disableRipple: true,\n      LinkComponent: LinkBehavior,\n    },\n  },\n  MuiInputLabel: {\n    styleOverrides: {\n      root: {\n        textTransform: \"uppercase\",\n        color: COLOR_TEXT_PRIMARY,\n      },\n    },\n  },\n  MuiOutlinedInput: {\n    styleOverrides: {\n      notchedOutline: {\n        borderColor: COLOR_SECONDARY,\n      },\n    },\n  },\n  MuiMenuItem: {\n    defaultProps: {\n      LinkComponent: LinkBehavior,\n    },\n  },\n  MuiSlider: {\n    styleOverrides: {\n      rail: {\n        backgroundColor: COLOR_SECONDARY,\n      },\n    },\n  },\n};\n","import { createTheme, Theme, ThemeOptions } from \"@mui/material/styles\";\nimport { palette } from \"./palette\";\nimport { typography } from \"./typography\";\nimport { components } from \"./components\";\n\nconst themeOptions: ThemeOptions = {\n  components,\n  palette,\n  typography,\n};\nexport const DefaultTheme: Theme = createTheme(themeOptions);\n","import { TypographyOptions } from \"@mui/material/styles/createTypography\";\n\nexport const typography: TypographyOptions = {\n  fontFamily: \"Source Sans Pro\",\n  h1: {\n    fontFamily: \"Libre Baskerville\",\n    fontSize: \"3.125rem\",\n    fontWeight: 400,\n    lineHeight: 1.08,\n  },\n  h3: {\n    fontSize: \"1.125rem\",\n    fontWeight: 500,\n    lineHeight: 1.08,\n  },\n  subtitle1: {\n    fontSize: \"1.125rem\",\n    fontWeight: 500,\n  },\n  fontSize: 14,\n};\n","import React from \"react\";\ndeclare let window: any;\n\n// We inject our styles in .css files under the Shadow Dom, instead of the common header\n// One drawback is when the widget is destroyed and re-mounted, webpack won't inject the css again.\n// So we would want to cache the styles on initial inject and for subsequent re-mount\n// we will use this component to re-render our styles. There is a chance on initial render,\n// we get duplicate <style> tags, but that won't really hurt, but missing a <style> tag would be fatal.\n// If later we found more elegant approach, we can change this.\n// Note @font-face styles are injected to header, so no need to re-render. (@font-face won't work\n// under ShadowDom, it won't fire to load the font files.\nfunction WidgetStyles() {\n  const styles = window._dsp_widget_styles\n    .filter((el: HTMLElement) => el.innerHTML && !el.innerHTML.includes(\"@font-face\"))\n    .map((el: HTMLElement) => el.innerHTML)\n    .join(\"\");\n  return styles.length ? <style>{styles}</style> : null;\n}\n\nexport default WidgetStyles;\n","import { AdBuilderWidget } from \"@components/adBuilderWidget\";\nimport React, { FC, useEffect, useRef } from \"react\";\nimport { WidgetParams } from \"./bootstrap\";\nimport { useDispatch } from \"react-redux\";\nimport { setTargetUrn, setWidgetParams } from \"@app/adBuilderSlice\";\nimport { useUserAuthCheckQuery } from \"@app/dspApi\";\nimport createCache from \"@emotion/cache\";\nimport root from \"react-shadow/emotion\";\nimport { CacheProvider } from \"@emotion/react\";\nimport { DefaultTheme } from \"../theme\";\nimport { Dialog, AlertTitle, DialogContent } from \"@mui/material\";\nimport { Loading } from \"@components/utils/Loading\";\nimport Alert from \"@mui/material/Alert\";\nimport { ThemeProvider } from \"@mui/material/styles\";\nimport { css, Global } from \"@emotion/react\";\nimport WidgetStyles from \"./components/WidgetStyles\";\n\ntype Props = {\n  params: WidgetParams;\n};\n\nfunction Widget({ params }: Props) {\n  const dispatch = useDispatch();\n  const styleRef = useRef<HTMLStyleElement>(null);\n  const dialogContainerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    dispatch(setWidgetParams(params));\n    dispatch(setTargetUrn(params.urn));\n  }, []);\n\n  const { data, error, isLoading, refetch } = useUserAuthCheckQuery();\n\n  const cache = createCache({\n    key: \"css\",\n    prepend: true,\n    container: styleRef.current as HTMLStyleElement,\n  });\n\n  const ShadowDom = root.div as FC<{ id: string }>;\n\n  const [closed, setClosed] = React.useState(false);\n  // track if the widget is closed\n  const onClose = () => {\n    setClosed(true);\n  };\n\n  if (isLoading) {\n    // TODO better UI for this\n    return (\n      <Dialog open={true}>\n        <DialogContent>\n          <Loading />\n        </DialogContent>\n      </Dialog>\n    );\n  }\n  if (data && !data.exists) {\n    // render an error message\n    return <Alert severity=\"error\">User does not exist</Alert>;\n  }\n  if (error) {\n    console.warn(\"token not valid\", error);\n\n    // TODO better UI for this\n    return (\n      <Alert severity=\"error\">\n        <AlertTitle>Error</AlertTitle>\n        {(error as any)?.data?.errorMessage}\n        {(error as any)?.status === \"FETCH_ERROR\" && \"There was an error communicating with the server\"}\n      </Alert>\n    );\n  }\n\n  return (\n    <>\n      {!closed && (\n        <CacheProvider value={cache}>\n          {/* IMPORTANT NOTE, this is where external styles get injected,\n              if you want to change the id, please update craco.config.ts as well */}\n          <ShadowDom id=\"wpcom-dsp-widget-shadow-dom\">\n            <WidgetStyles />\n            <ThemeProvider theme={DefaultTheme}>\n              <style ref={styleRef}></style>\n              <Global\n                styles={css`\n                  :root {\n                    margin: 0;\n                    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\",\n                      \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", sans-serif;\n                    -webkit-font-smoothing: antialiased;\n                    -moz-osx-font-smoothing: grayscale;\n                  }\n\n                  code {\n                    font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\", monospace;\n                  }\n                `}\n              />\n              <div ref={dialogContainerRef}></div>\n              <AdBuilderWidget onClose={onClose} dialogContainer={() => dialogContainerRef.current} />\n            </ThemeProvider>\n          </ShadowDom>\n        </CacheProvider>\n      )}\n    </>\n  );\n}\n\nexport default Widget;\n","import { configureStore, ThunkAction, Action } from \"@reduxjs/toolkit\";\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\nimport { dspApi } from \"./dspApi\";\nimport { adBuilderSlice } from \"@app/adBuilderSlice\";\n\nexport const store = configureStore({\n  reducer: {\n    [dspApi.reducerPath]: dspApi.reducer,\n    adBuilder: adBuilderSlice.reducer,\n  },\n  middleware: getDefaultMiddleware => getDefaultMiddleware().concat(dspApi.middleware),\n});\n\n// optional, but required for refetchOnFocus/refetchOnReconnect behaviors\n// see `setupListeners` docs on https://redux-toolkit.js.org/rtk-query/overview\n// - takes an optional callback as the 2nd arg for customization\nsetupListeners(store.dispatch);\n\nexport type AppDispatch = typeof store.dispatch;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, RootState, unknown, Action<string>>;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport Widget from \"./Widget\";\nimport { store } from \"@app/store\";\nimport { WidgetParams } from \"./bootstrap\";\n\nconst render = (domNodeId: string, params: WidgetParams) => {\n  const reactRoot = document.getElementById(domNodeId);\n  ReactDOM.render(\n    <Provider store={store}>\n      <Widget params={params} />\n    </Provider>,\n    reactRoot\n  );\n};\n\nexport default render;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../dsp-client/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../dsp-client/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".ad-container {\\n  width: 300px;\\n  height: 250px;\\n  box-sizing: border-box;\\n  align-content: start;\\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\\n}\\n\\n.ad-container a {\\n  text-decoration: none;\\n  color: #000;\\n}\\n\\n.ad-header {\\n  background-color: #ffffff;\\n  height: 44px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-left:16px;\\n  padding-right:16px;\\n  font-size: 0.9em;\\n  box-sizing: border-box;\\n}\\n\\n.ad-header-title {\\n  font-weight: bold;\\n  line-break: anywhere;\\n}\\n\\n.ad-image {\\n  box-sizing: border-box;\\n  height: 146px;\\n}\\n.ad-image img {\\n  width: 100%;\\n  height: 100%;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n.ad-header-subtitle {\\n  font-weight: 600;\\n  color: #555;\\n}\\n\\n.ad-snippet {\\n  background-color: #ffffff;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-left:16px;\\n  padding-right:16px;\\n  font-weight: 500;\\n  font-size: 1.1em;\\n  flex: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  line-clamp: 2;\\n  box-sizing: border-box;\\n  height: 60px;\\n  white-space: pre-line;\\n}\\n\\n.ad-snippet:nth-child(2) {\\n  align-items: center;\\n}\\n\\n.ad-snippet p {\\n  max-lines: 2;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  line-clamp: 2;\\n  max-height: 36px;\\n  margin: 0;\\n  line-height: 1em;\\n}\\n\\n.no-image {\\n  text-align: center;\\n  padding-top: 40px;\\n  font-size: 1.3em;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./../src/lib/creatives/adTemplates/ad_300_250_styles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,YAAY;EACZ,aAAa;EACb,sBAAsB;EACtB,oBAAoB;EACpB,8IAA8I;AAChJ;;AAEA;EACE,qBAAqB;EACrB,WAAW;AACb;;AAEA;EACE,yBAAyB;EACzB,YAAY;EACZ,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,iBAAiB;EACjB,kBAAkB;EAClB,gBAAgB;EAChB,sBAAsB;AACxB;;AAEA;EACE,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,sBAAsB;EACtB,aAAa;AACf;AACA;EACE,WAAW;EACX,YAAY;EACZ,oBAAiB;KAAjB,iBAAiB;AACnB;;AAEA;EACE,gBAAgB;EAChB,WAAW;AACb;;AAEA;EACE,yBAAyB;EACzB,aAAa;EACb,8BAA8B;EAC9B,mBAAmB;EACnB,iBAAiB;EACjB,kBAAkB;EAClB,gBAAgB;EAChB,gBAAgB;EAChB,UAAU;EACV,gBAAgB;EAChB,uBAAuB;EACvB,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,qBAAqB;AACvB;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,YAAY;EACZ,gBAAgB;EAChB,uBAAuB;EACvB,aAAa;EACb,gBAAgB;EAChB,SAAS;EACT,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,gBAAgB;AAClB\",\"sourcesContent\":[\".ad-container {\\n  width: 300px;\\n  height: 250px;\\n  box-sizing: border-box;\\n  align-content: start;\\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\\n}\\n\\n.ad-container a {\\n  text-decoration: none;\\n  color: #000;\\n}\\n\\n.ad-header {\\n  background-color: #ffffff;\\n  height: 44px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-left:16px;\\n  padding-right:16px;\\n  font-size: 0.9em;\\n  box-sizing: border-box;\\n}\\n\\n.ad-header-title {\\n  font-weight: bold;\\n  line-break: anywhere;\\n}\\n\\n.ad-image {\\n  box-sizing: border-box;\\n  height: 146px;\\n}\\n.ad-image img {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n\\n.ad-header-subtitle {\\n  font-weight: 600;\\n  color: #555;\\n}\\n\\n.ad-snippet {\\n  background-color: #ffffff;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  padding-left:16px;\\n  padding-right:16px;\\n  font-weight: 500;\\n  font-size: 1.1em;\\n  flex: auto;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  line-clamp: 2;\\n  box-sizing: border-box;\\n  height: 60px;\\n  white-space: pre-line;\\n}\\n\\n.ad-snippet:nth-child(2) {\\n  align-items: center;\\n}\\n\\n.ad-snippet p {\\n  max-lines: 2;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  line-clamp: 2;\\n  max-height: 36px;\\n  margin: 0;\\n  line-height: 1em;\\n}\\n\\n.no-image {\\n  text-align: center;\\n  padding-top: 40px;\\n  font-size: 1.3em;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../../dsp-client/node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../dsp-client/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"html, body, div, span, applet, object, iframe,\\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\\na, abbr, acronym, address, big, cite, code,\\ndel, dfn, em, img, ins, kbd, q, s, samp,\\nsmall, strike, strong, sub, sup, tt, var,\\nb, u, i, center,\\ndl, dt, dd, ol, ul, li,\\nfieldset, form, label, legend,\\ntable, caption, tbody, tfoot, thead, tr, th, td,\\narticle, aside, canvas, details, embed,\\nfigure, figcaption, footer, header, hgroup,\\nmenu, nav, output, ruby, section, summary,\\ntime, mark, audio, video {\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  font-size: 100%;\\n  font: inherit;\\n  vertical-align: baseline;\\n}\\narticle, aside, details, figcaption, figure,\\nfooter, header, hgroup, menu, nav, section {\\n  display: block;\\n}\\nbody {\\n  line-height: 1;\\n}\\nol, ul {\\n  list-style: none;\\n}\\nblockquote, q {\\n  quotes: none;\\n}\\nblockquote:before, blockquote:after,\\nq:before, q:after {\\n  content: '';\\n  content: none;\\n}\\ntable {\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./../src/lib/creatives/adTemplates/reset.css\"],\"names\":[],\"mappings\":\"AAAA;;;;;;;;;;;;;EAaE,SAAS;EACT,UAAU;EACV,SAAS;EACT,eAAe;EACf,aAAa;EACb,wBAAwB;AAC1B;AACA;;EAEE,cAAc;AAChB;AACA;EACE,cAAc;AAChB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,YAAY;AACd;AACA;;EAEE,WAAW;EACX,aAAa;AACf;AACA;EACE,yBAAyB;EACzB,iBAAiB;AACnB\",\"sourcesContent\":[\"html, body, div, span, applet, object, iframe,\\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\\na, abbr, acronym, address, big, cite, code,\\ndel, dfn, em, img, ins, kbd, q, s, samp,\\nsmall, strike, strong, sub, sup, tt, var,\\nb, u, i, center,\\ndl, dt, dd, ol, ul, li,\\nfieldset, form, label, legend,\\ntable, caption, tbody, tfoot, thead, tr, th, td,\\narticle, aside, canvas, details, embed,\\nfigure, figcaption, footer, header, hgroup,\\nmenu, nav, output, ruby, section, summary,\\ntime, mark, audio, video {\\n  margin: 0;\\n  padding: 0;\\n  border: 0;\\n  font-size: 100%;\\n  font: inherit;\\n  vertical-align: baseline;\\n}\\narticle, aside, details, figcaption, figure,\\nfooter, header, hgroup, menu, nav, section {\\n  display: block;\\n}\\nbody {\\n  line-height: 1;\\n}\\nol, ul {\\n  list-style: none;\\n}\\nblockquote, q {\\n  quotes: none;\\n}\\nblockquote:before, blockquote:after,\\nq:before, q:after {\\n  content: '';\\n  content: none;\\n}\\ntable {\\n  border-collapse: collapse;\\n  border-spacing: 0;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["ModerationStatus","GoalType","AdType","SocialLoginProvider","SmartCampaignStatus","CreativeType","WPCOMPostType","TargetTypes","FormSteps","DeviceTargetTypes","slideProps","easing","enter","exit","direction","mountOnEnter","unmountOnExit","StepWidgetIntro","onClickGetStarted","Slide","in","container","sx","height","alignItems","item","xs","Typography","variant","mb","mt","textAlign","display","width","component","size","onClick","color","stepSet","label","steps","intro","selectSiteAsset","previewCreative","siteTargeting","budgetTiming","pay","config","confirmAd","finish","WidgetStepper","formStep","currentIndex","_findIndex","e","includes","Stepper","activeStep","alternativeLabel","map","step","Step","StepLabel","dynamicBaseQuery","args","WebApi","extraOptions","apiHost","getState","adBuilder","widgetParams","process","REACT_APP_DSP_API_HOST","apiPrefix","REACT_APP_DSP_API_PREFIX","baseUrl","BASE_URI","rawBaseQuery","fetchBaseQuery","prepareHeaders","headers","set","token","authToken","startsWith","dspApi","createApi","reducerPath","tagTypes","baseQuery","endpoints","builder","getUserInfo","query","request","url","providesTags","getCampaigns","getCampaignsFull","getCampaign","campaign_id","createCampaign","mutation","method","body","invalidatesTags","editCampaign","campaign","deleteCampaign","stopCampaign","createAd","editAd","ad_id","deleteAd","getAds","getAd","getCreatives","getCreative","creative_id","deleteCreative","creative","editCreative","getSites","getSitePosts","site_id","post_type","pagination","page","limit","page_handle","getSitePost","post_id","getSiteAssets","getSmartAvailableContinents","getAvailableSiteTargetLanguages","getAvailableSiteTargetTopics","getAvailableLocations","getHelloWorld","params","userAuthCheck","useUserAuthCheckQuery","useGetUserInfoQuery","useGetHelloWorldQuery","useGetSitePostQuery","useGetCampaignQuery","useGetAdsQuery","useGetAdQuery","useGetCampaignsQuery","useGetCampaignsFullQuery","useCreateCampaignMutation","useDeleteCampaignMutation","useStopCampaignMutation","useEditCampaignMutation","useCreateAdMutation","useDeleteAdMutation","useEditAdMutation","useGetCreativesQuery","useGetCreativeQuery","useDeleteCreativeMutation","useEditCreativeMutation","useGetSitesQuery","useGetSitePostsQuery","useGetAvailableSiteTargetLanguagesQuery","useGetSiteAssetsQuery","useGetSmartAvailableContinentsQuery","useGetAvailableSiteTargetTopicsQuery","useGetAvailableLocationsQuery","initialState","builderMode","ad","budget_cents","start_date","Date","toISOString","end_date","now","type","article","goal_type","wpcomPost","device_target_type","desktop","paymentMethod","nextButtonEnabled","title","snippet","clickUrl","imageUrl","imageMimeType","publishStatus","campaignCreatedId","campaignCreated","adCreated","assetsUploaded","submitted","Accept","fetchImageAsBlob","fetch","encodeURIComponent","accept","authorization","Authorization","response","blob","createCampaignRequest","name","description","JSON","stringify","createCampaignResponse","json","createdCampaign","ok","Error","createAdRequest","target_urn","urn","user_target_geo","content_target_language","content_target_iab_category","createAdResponse","createdAd","readBlob","reader","FileReader","readAsDataURL","Promise","resolve","reject","onloadend","base64data","result","onerror","error","createCreative","imageRaw","imageBase64","createCreativeRequest","assets","mime_type","content","file_name","creativeResponse","createdCreative","submitForModeration","submitResponse","submit","createFullCampaignWidgetModeThunk","createAsyncThunk","thunkAPI","dispatch","setCampaignCreated","console","warn","setAdCreated","setAssetsUploaded","setSubmitted","util","invalidateTags","setCampaignCreatedId","Object","hasOwnProperty","call","message","setCreateCampaignErrorMessage","adBuilderSlice","createSlice","reducers","setWidgetParams","state","action","payload","updateBaseUrl","setBuilderMode","setFormStep","setGoalType","setAdType","setTargetUrn","setTargetSiteLanguages","setTargetLocations","setDeviceTargetTypes","setTargetSiteTopics","setAdStartDate","setAdEndDate","setAdBudgetCentsPerDay","setArticleTitle","setArticleSnippet","setArticleClickUrl","setArticleImageUrl","setArticleImageMimeType","setPaymentMethod","setNextButtonEnabled","errorMessage","actions","SuccessMessage","useSelector","target","textContent","PublishProgressItem","status","ListItem","ListItemButton","ListItemIcon","CheckCircleOutline","RadioButtonUnchecked","ListItemText","primary","PublishProgress","List","StepFinish","connect","connector","isPublishedSuccessfully","Alert","severity","ml","lg","md","BuilderTitle","align","children","props","utils","LocalizationProvider","dateAdapter","AdapterDateFns","extractTextFromHTMLTag","text","div","document","createElement","innerHTML","innerText","formatPriceInCents","number","currency","numberFormatted","toFixed","StepBudgetTiming","onClickPrevious","onSubmit","startDate","endDate","dailyBudgetInCents","spacing","mr","Slider","min","max","value","onChange","newVal","DatePicker","PopperProps","disablePortal","date","keyboardInputValue","newStartString","parseISO","disablePast","InputProps","fullWidth","renderInput","TextField","minDate","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","getStyles","selectedValues","theme","fontWeight","length","indexOf","typography","fontWeightRegular","fontWeightMedium","MultipleSelect","values","options","placeholder","useTheme","labelId","FormControl","m","InputLabel","id","Select","multiple","event","split","input","OutlinedInput","displayEmpty","renderValue","selected","find","option","join","MenuItem","LoadingTypes","mapDispatchToProps","StepSiteTargeting","selectedLanguages","selectedTopics","selectedLocations","selectedDevices","onSiteTargetingSelected","languagesData","data","isFetchingLanguages","isFetching","topicsData","isFetchingTopics","locationsData","isFetchingLocations","languages","language","rawLocations","topics","topic","code","locations","location","deviceTypes","mobile","tablet","CircularProgress","Loading","default","showText","centered","LoadingComponent","LinearProgress","justifyContent","margin","marginLeft","UploadButton","onUpload","buttonText","file","_get","formData","FormData","append","urlObject","window","URL","createObjectURL","htmlFor","StyledDialogContainer","styled","Box","minHeight","flexDirection","marginTop","padding","border","borderRadius","backgroundSize","backgroundPosition","UploadImageDialog","onSuccess","onClose","dialogContainer","useState","setErrorMessage","imageUpload","setImageUpload","setImageMimeType","formContext","useForm","defaultValues","image","undefined","handleUploadFile","Dialog","open","maxWidth","FormProps","encType","DialogTitle","IconButton","position","right","top","palette","grey","Close","DialogContent","className","onDragOver","preventDefault","handleDragOver","onDrop","stopPropagation","dataTransfer","files","handleFileDrop","backgroundImage","pt","DialogActions","React","showUploadDialog","setShowUploadDialog","dialogContainerRef","useRef","ref","flipDirection","Card","backgroundColor","blue","imageBlobUrl","mimeType","current","styleTagTransform","setAttributes","insert","element","_dsp_widget_styles","push","retry","insertWithRetry","node","querySelector","shadowRoot","prepend","setTimeout","domAPI","insertStyleElement","AdPreviewWrapper","boxShadow","AdContainer","AdPostTitle","AdImage","src","alt","AdSiteTitle","StepPreviewCreative","siteId","postId","getDataFromUrn","adLoaded","setAdLoaded","useDispatch","sitePost","sitePostError","sitePostIsLoading","isLoading","mode","setValue","errors","formState","hasErrors","_","useEffect","downloadWPData","excerpt","post_thumbnail","imageUploadedObjectURL","responseData","AlertTitle","Grow","timeout","pl","required","multiline","rows","mimetype","FormResultField","secondary","Divider","StepConfirmAd","sm","bgcolor","overflow","CheckoutForm","stripeKey","stripeRef","disabled","setDisabled","setToken","setError","el","complete","empty","onError","detail","onToken","addEventListener","removeEventListener","handleClick","createToken","startIcon","AttachMoney","StepPay","formSteps","getPreviousStep","index","getNextStep","AdBuilderWidget","Container","siteTarget","flex","COLOR_PRIMARY","COLOR_SECONDARY","COLOR_TEXT_PRIMARY","main","c","light","dark","LinkBehavior","href","other","to","themeOptions","components","MuiButton","styleOverrides","root","textTransform","MuiButtonBase","defaultProps","disableRipple","LinkComponent","MuiInputLabel","MuiOutlinedInput","notchedOutline","borderColor","MuiMenuItem","MuiSlider","rail","fontFamily","h1","fontSize","lineHeight","h3","subtitle1","DefaultTheme","createTheme","styles","filter","styleRef","cache","refetch","createCache","key","ShadowDom","closed","setClosed","exists","C","ThemeProvider","Global","css","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","setupListeners","domNodeId","reactRoot","getElementById","ReactDOM","___CSS_LOADER_EXPORT___","module","locals"],"sourceRoot":""}